(this.webpackJsonpgettem=this.webpackJsonpgettem||[]).push([[0],{1263:function(e,t,r){"use strict";r.r(t);r(786),r(796);var c=r(34),a=r.n(c),s=r(10),n=r(1388),o=r(1387),i=r(56),l=r(192),d=r(99),j="https://mintpim.com/api/v1",u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers);var r=sessionStorage.getItem("token");return t.headers.set("Authorization","Bearer ".concat(r)),l.a.fetchJson(e,t)},b={getList:function(e,t){var r;if(t){var c=t.pagination,a=c.page,s=c.perPage,n=t.sort,o=n.field,i=n.order,l={sort:JSON.stringify({column:o,direction:i}),range:JSON.stringify({start:(a-1)*s,end:a*s-1}),filter:JSON.stringify(t.filter)};r="".concat(j,"/").concat(e,"?").concat(Object(d.stringify)(l))}else r="".concat(j,"/").concat(e);return u(r).then((function(e){var t=e.json;return{data:null===t||void 0===t?void 0:t.data,total:(null===t||void 0===t?void 0:t.total)||0}}))},getOne:function(e,t){return u("".concat(j,"/").concat(e,"/").concat(t.id)).then((function(e){var t,r=e.json;return{data:null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t[0]}}))},getMany:function(e,t){var r="".concat(j,"/").concat(e,"/").concat(t.ids);return u(r).then((function(e){var t=e.json;return{data:null===t||void 0===t?void 0:t.data}}))},getManyReference:function(e,t){var r=t.pagination,c=r.page,a=r.perPage,n=t.sort,o=n.field,l=n.order,b={sort:JSON.stringify([o,l]),range:JSON.stringify([(c-1)*a,c*a-1]),filter:JSON.stringify(Object(s.a)(Object(s.a)({},t.filter),{},Object(i.a)({},t.target,t.id)))},O="".concat(j,"/").concat(e,"?").concat(Object(d.stringify)(b));return u(O).then((function(e){var t=e.headers;return{data:e.json,total:parseInt(t.get("content-range").split("/").pop(),10)}}))},update:function(e,t){return u("".concat(j,"/").concat(e,"/").concat(t.id),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},updateMany:function(e,t){var r={filter:JSON.stringify({id:t.ids})};return u("".concat(j,"/").concat(e,"?").concat(Object(d.stringify)(r)),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},create:function(e,t){return u("".concat(j,"/").concat(e),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},delete:function(e,t){return u("".concat(j,"/").concat(e,"/").concat(t.id),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){var r={filter:JSON.stringify({id:t.ids})};return u("".concat(j,"/").concat(e,"?").concat(Object(d.stringify)(r)),{method:"DELETE",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))}},O=r(183),m=r.n(O),x=r(459);function h(e,t){return f.apply(this,arguments)}function f(){return(f=Object(x.a)(m.a.mark((function e(t,r){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.create("login",{data:{id:t,password:r}});case 2:return c=e.sent,a=c.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p={login:function(){var e=Object(x.a)(m.a.mark((function e(t){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,c=t.password,e.next=3,h(r,c);case 3:return e.sent,e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){return sessionStorage.removeItem("token"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return Promise.resolve()},getPermissions:function(){return Promise.reject("Unknown method")},getIdentity:function(){return Promise.resolve({id:"user",fullName:"GETTEM"})}},v="CHANGE_THEME",g=function(e){return{type:v,payload:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;return t.type===v?t.payload:e},w=r(0),S=r(11),k=r(9),N=r.n(k),_=r(386),T=r(1336),C=r(1266),A=r(472),R=r(211),U=r(102),D=r(343),P=r.n(D),z=r(67),B=r(71),L=r(744),I=r(470),E=r(2),F=Object(U.a)({title:{color:"#666",fontSize:"2.5vmin",fontWeight:"bold"},subTitle:{color:"#666",fontSize:"2vmin"}}),V=function(){var e=F();return Object(E.jsxs)("div",{style:{padding:5},children:[Object(E.jsx)("div",{className:e.title,children:"GETTEM"}),Object(E.jsx)("div",{className:e.subTitle,children:"Hello!"})]})},J=Object(U.a)((function(e){return{toolbar:{paddingRight:24},menuButton:{marginLeft:"0.2em",marginRight:"0.2em"},menuButtonIconClosed:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(0deg)"},menuButtonIconOpen:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(180deg)"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}}),{name:"RaAppBar"}),W=function(e){var t=e.className,r=e.color,c=e.logout,a=e.open,s=J(e),n=Object(S.e)(),o=Object(_.a)((function(e){return e.breakpoints.down("xs")})),i=Object(z.a)();return Object(E.jsx)(L.a,{children:Object(E.jsx)(T.a,{className:t,color:r,children:Object(E.jsxs)(C.a,{disableGutters:!0,variant:o?"regular":"dense",className:s.toolbar,children:[Object(E.jsx)(A.a,{title:i(a?"ra.action.close_menu":"ra.action.open_menu",{_:"Open/Close menu"}),enterDelay:500,children:Object(E.jsx)(R.a,{color:"inherit",onClick:function(){return n(Object(B.h)())},className:N()(s.menuButton),children:Object(E.jsx)(P.a,{classes:{root:a?s.menuButtonIconOpen:s.menuButtonIconClosed}})})}),Object(E.jsx)(V,{}),Object(E.jsx)("span",{className:s.spacer}),Object(E.jsx)(I.a,{logout:c})]})})})};W.defaultProps={color:"secondary"};var M=Object(w.memo)(W),q=r(673),G=r(1390),H=r(50),K=r(346),Q=r(201),X=r.n(Q),Y=r(348),Z=r.n(Y),$=r(347),ee=r.n($),te=r(185),re=r(1271),ce=r(59),ae=r(1272),se=r(1270),ne=r(200),oe=r.n(ne),ie=Object(U.a)((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{paddingLeft:e.spacing(4),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},sidebarIsClosed:{"& a":{paddingLeft:e.spacing(2),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}}}})),le=function(e){var t=e.handleToggle,r=e.isOpen,c=e.name,a=e.icon,s=e.children,n=e.dense,o=Object(z.a)(),i=ie(),l=Object(S.f)((function(e){return e.admin.ui.sidebarOpen})),d=Object(E.jsxs)(te.a,{dense:n,button:!0,onClick:t,children:[Object(E.jsx)(re.a,{className:i.icon,children:r?Object(E.jsx)(oe.a,{}):a}),Object(E.jsx)(ce.a,{variant:"inherit",color:"textSecondary",children:o(c)})]});return Object(E.jsxs)(E.Fragment,{children:[l||r?d:Object(E.jsx)(A.a,{title:o(c),placement:"right",children:d}),Object(E.jsx)(ae.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(E.jsx)(se.a,{dense:n,component:"div",disablePadding:!0,className:l?i.sidebarIsOpen:i.sidebarIsClosed,children:s})})]})},de=Object(U.a)((function(e){return{root:{marginTop:e.spacing(3)}}})),je=function(e){var t=e.dense,r=void 0!==t&&t,c=Object(z.a)();Object(S.f)((function(e){return e.theme}));var a=de(),n=Object(w.useState)({menuCatalog:!0,menuSales:!0,menuCustomers:!0}),o=Object(H.a)(n,2),l=o[0],d=o[1];return Object(E.jsxs)("div",{className:a.root,children:[Object(E.jsxs)(le,{handleToggle:function(){return e="menuCatalog",void d((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},e,!t[e]))}));var e},isOpen:l.menuCatalog,name:c("Balance"),icon:Object(E.jsx)(X.a,{}),dense:r,children:[Object(E.jsx)(K.a,{to:"/balance",primaryText:c("Balance"),leftIcon:Object(E.jsx)(X.a,{}),dense:r}),Object(E.jsx)(K.a,{to:"/request",primaryText:c("Request"),leftIcon:Object(E.jsx)(ee.a,{}),dense:r})]}),Object(E.jsx)(K.a,{to:"/orders",primaryText:c("Orders"),leftIcon:Object(E.jsx)(Z.a,{}),dense:r})]})},ue={palette:{primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"},type:"light"},shape:{borderRadius:10},overrides:{RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #4f3cc9"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"},textSizeSmall:{color:"black"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}},MuiAppBar:{colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiSnackbarContent:{root:{border:"none"}},RaList:{root:{paddingTop:10}},RaButton:{button:{boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.16), 0px 2px 4px rgba(0, 0, 0, 0.12), 0px 1px 8px rgba(0, 0, 0, 0.1)",borderRadius:8,paddingLeft:8,paddingRight:10,marginRight:10}}},props:{MuiButtonBase:{disableRipple:!0}}},be=function(e){return Object(E.jsx)(q.a,Object(s.a)(Object(s.a)({},e),{},{size:200}))},Oe=function(e){return Object(E.jsx)(G.a,Object(s.a)(Object(s.a)({},e),{},{appBar:M,sidebar:be,menu:je,theme:ue}))},me=r(176),xe=r(57),he=r(39),fe=r(474),pe=r(1343),ve=r(1408),ge=r(1344),ye=r(748),we=r(1276),Se=r(739),ke=r(1341),Ne=r(353),_e=r.n(Ne),Te=r(240),Ce=r(1342),Ae=r(377),Re=["meta","input"],Ue=Object(U.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}})),De=function(e){var t=e.meta,r=(t=void 0===t?{touched:!1,error:void 0}:t).touched,c=t.error,a=Object.assign({},e.input),n=Object(me.a)(e,Re);return Object(E.jsx)(fe.a,Object(s.a)(Object(s.a)(Object(s.a)({error:!(!r||!c),helperText:r&&c},a),n),{},{fullWidth:!0}))},Pe=Object(xe.f)().Form,ze=function(){var e=Object(w.useState)(!1),t=Object(H.a)(e,2),r=t[0],c=t[1],a=Object(z.a)(),s=Ue(),n=Object(Te.a)(),o=Object(Ce.a)(),i=Object(he.h)();return Object(E.jsx)(Pe,{onSubmit:function(e){c(!0),o(e,i.state?i.state.nextPathname:"/").catch((function(e){c(!1),n("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}))},validate:function(e){var t={},r=e.id,c=e.password;return r||(t.id=a("ra.validation.required")),c||(t.password=a("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return Object(E.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(E.jsxs)("div",{className:s.main,children:[Object(E.jsxs)(pe.a,{className:s.card,children:[Object(E.jsx)("div",{className:s.avatar,children:Object(E.jsx)(ve.a,{className:s.icon,children:Object(E.jsx)(_e.a,{})})}),Object(E.jsxs)("div",{className:s.form,children:[Object(E.jsx)("div",{className:s.input,children:Object(E.jsx)(xe.a,{autoFocus:!0,name:"id",component:De,label:"ID",disabled:r,initialValue:"a@a.com"})}),Object(E.jsx)("div",{className:s.input,children:Object(E.jsx)(xe.a,{name:"password",component:De,label:a("ra.auth.password"),type:"password",disabled:r,initialValue:"qwer1234!"})})]}),Object(E.jsx)(ge.a,{className:s.actions,children:Object(E.jsxs)(ye.a,{variant:"contained",type:"submit",color:"primary",disabled:r,fullWidth:!0,children:[r&&Object(E.jsx)(we.a,{size:25,thickness:2}),a("ra.auth.sign_in")]})})]}),Object(E.jsx)(Ae.a,{})]})})}})},Be=function(e){return Object(E.jsx)(ke.a,{theme:Object(Se.a)(ue),children:Object(E.jsx)(ze,Object(s.a)({},e))})},Le=r(755),Ie=r(681),Ee=r.n(Ie),Fe=r(682),Ve=r.n(Fe),Je=r.p+"static/media/welcome_illustration.cd84d2be.svg",We=Object(U.a)((function(e){return{root:{background:"dark"===e.palette.type?"#535353":"linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb",color:"#fff",padding:20,marginTop:e.spacing(2),marginBottom:"1em"},media:{background:"url(".concat(Je,") top right / cover"),marginLeft:"auto"},actions:Object(i.a)({},e.breakpoints.down("md"),{padding:0,flexWrap:"wrap","& a":{marginTop:"1em",marginLeft:"0!important",marginRight:"1em"}})}})),Me=function(){var e=We();return Object(E.jsx)(pe.a,{className:e.root,children:Object(E.jsxs)(Le.a,{display:"flex",children:[Object(E.jsxs)(Le.a,{flex:"1",children:[Object(E.jsx)(ce.a,{variant:"h5",component:"h2",gutterBottom:!0,children:"GETTEM"}),Object(E.jsx)(Le.a,{maxWidth:"40em",children:Object(E.jsx)(ce.a,{variant:"body1",component:"p",gutterBottom:!0,children:"Welcome!"})}),Object(E.jsxs)(ge.a,{className:e.actions,children:[Object(E.jsx)(ye.a,{variant:"contained",href:"https://marmelab.com/react-admin",startIcon:Object(E.jsx)(Ee.a,{}),children:"WHAT IS PIN?"}),Object(E.jsx)(ye.a,{variant:"contained",href:"https://github.com/marmelab/react-admin/tree/master/examples/demo",startIcon:Object(E.jsx)(Ve.a,{}),children:"DETAILS"})]})]}),Object(E.jsx)(Le.a,{display:{xs:"none",sm:"none",md:"block"},className:e.media,width:"16em",height:"9em",overflow:"hidden"})]})})},qe=r(1345),Ge=r(27),He=Object(U.a)((function(e){return{card:{minHeight:52,display:"flex",flexDirection:"column",flex:"1","& a":{textDecoration:"none",color:"inherit"}},main:function(t){return{overflow:"inherit",padding:16,background:"url(".concat("dark"===e.palette.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==",") no-repeat"),display:"flex",justifyContent:"space-between",alignItems:"center","& .icon":{color:"dark"===e.palette.type?"inherit":"#dc2440"}}},title:{}}})),Ke=function(e){var t=e.icon,r=e.title,c=e.subtitle,a=e.to,s=e.children,n=He(e);return Object(E.jsxs)(pe.a,{className:n.card,children:[Object(E.jsx)(Ge.a,{to:a,children:Object(E.jsxs)("div",{className:n.main,children:[Object(E.jsx)(Le.a,{width:"3em",className:"icon",children:Object(w.createElement)(t,{fontSize:"large"})}),Object(E.jsxs)(Le.a,{textAlign:"right",children:[Object(E.jsx)(ce.a,{className:n.title,color:"textSecondary",children:r}),Object(E.jsx)(ce.a,{variant:"h5",component:"h2",children:c||"\u2000"})]})]})}),s&&Object(E.jsx)(qe.a,{}),s]})},Qe=function(e){var t=e.value;return Object(E.jsx)(Ke,{to:"/commands",icon:X.a,title:"Monthly Revenue",subtitle:t})},Xe=function(e){var t=e.value;return Object(E.jsx)(Ke,{to:"/commands",icon:Z.a,title:"New Orders",subtitle:t})},Ye=r(1346),Ze=r(749),$e=r(1281),et=r(1347),tt=r(1280),rt=Object(U.a)((function(e){return{root:{flex:1},cost:{marginRight:"1em",color:e.palette.text.primary}}})),ct=function(e){var t=e.orders,r=void 0===t?[]:t,c=e.customers,a=void 0===c?{}:c,s=rt();return Object(E.jsxs)(pe.a,{className:s.root,children:[Object(E.jsx)(Ye.a,{title:"Pending Orders"}),Object(E.jsx)(se.a,{dense:!0,children:r.map((function(e){return Object(E.jsxs)(Ze.a,{button:!0,component:Ge.a,to:"/commands/".concat(e.id),children:[Object(E.jsx)(et.a,{children:a[e.customer_id]?Object(E.jsx)(ve.a,{src:"".concat(a[e.customer_id].avatar,"?size=32x32")}):Object(E.jsx)(ve.a,{})}),Object(E.jsx)(tt.a,{primary:new Date(e.date).toLocaleString("en-GB"),secondary:"Order Items"}),Object(E.jsx)($e.a,{children:Object(E.jsxs)("span",{className:s.cost,children:[e.total,"$"]})})]},e.id)}))})]})},at=r(354),st=r.n(at),nt=r(683),ot=r.n(nt),it=Object(U.a)({root:{opacity:.87,whiteSpace:"nowrap",display:"flex"},large:{width:20,height:20},small:{width:15,height:15}}),lt=function(e){var t=e.record,r=e.size,c=void 0===r?"large":r,a=it();return t?Object(E.jsx)("span",{className:a.root,children:Array(t.rating).fill(!0).map((function(e,t){return Object(E.jsx)(ot.a,{className:"large"===c?a.large:a.small},t)}))}):null};lt.defaultProps={label:"resources.reviews.fields.rating",source:"rating",addLabel:!0};var dt=lt,jt=Object(U.a)((function(e){return{avatar:{background:e.palette.background.paper},listItemText:{overflowY:"hidden",height:"4em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},link:{borderRadius:0},linkContent:{color:e.palette.primary.main}}})),ut=function(e){var t=e.reviews,r=void 0===t?[]:t,c=e.customers,a=void 0===c?{}:c,s=e.nb,n=jt();return Object(E.jsxs)(Ke,{to:"/reviews",icon:st.a,title:"Pending Reviews",subtitle:s,children:[Object(E.jsx)(se.a,{children:r.map((function(e){return Object(E.jsxs)(Ze.a,{button:!0,component:Ge.a,to:"/reviews/".concat(e.id),alignItems:"flex-start",children:[Object(E.jsx)(et.a,{children:a[e.customer_id]?Object(E.jsx)(ve.a,{src:"".concat(a[e.customer_id].avatar,"?size=32x32"),className:n.avatar}):Object(E.jsx)(ve.a,{})}),Object(E.jsx)(tt.a,{primary:Object(E.jsx)(dt,{record:e}),secondary:e.comment,className:n.listItemText,style:{paddingRight:0}})]},e.id)}))}),Object(E.jsx)(Le.a,{flexGrow:"1",children:"\xa0"}),Object(E.jsx)(ye.a,{className:n.link,component:Ge.a,to:"/reviews",size:"small",color:"primary",children:Object(E.jsx)(Le.a,{p:1,className:n.linkContent,children:"All Reviews"})})]})},bt=r(684),Ot=r.n(bt),mt=r(166),xt=r(70),ht=Object(U.a)((function(e){return{link:{borderRadius:0},linkContent:{color:e.palette.primary.main}}})),ft=function(){var e=Object(z.a)(),t=ht(),r=Object(xt.subDays)(new Date,30);r.setDate(r.getDate()-30),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var c=Object(mt.a)({type:"getList",resource:"customers",payload:{filter:{has_ordered:!0,first_seen_gte:r.toISOString()},sort:{field:"first_seen",order:"DESC"},pagination:{page:1,perPage:100}}}),a=c.loaded,s=c.data;if(!a)return null;var n=s?s.reduce((function(e){return e+1}),0):0;return Object(E.jsxs)(Ke,{to:"/customers",icon:Ot.a,title:e("pos.dashboard.new_customers"),subtitle:n,children:[Object(E.jsx)(se.a,{children:s?s.map((function(e){return Object(E.jsxs)(Ze.a,{button:!0,to:"/customers/".concat(e.id),component:Ge.a,children:[Object(E.jsx)(et.a,{children:Object(E.jsx)(ve.a,{src:"".concat(e.avatar,"?size=32x32")})}),Object(E.jsx)(tt.a,{primary:"".concat(e.first_name," ").concat(e.last_name)})]},e.id)})):null}),Object(E.jsx)(Le.a,{flexGrow:"1",children:"\xa0"}),Object(E.jsx)(ye.a,{className:t.link,component:Ge.a,to:"/customers",size:"small",color:"primary",children:Object(E.jsx)(Le.a,{p:1,className:t.linkContent,children:e("pos.dashboard.all_customers")})})]})},pt=r(1348),vt=r(1349),gt=r(1350),yt=r(699),wt=r(700),St=r(1354),kt=r(288),Nt=r(746),_t=new Date,Tt=Array.from({length:30},(function(e,t){return Object(xt.subDays)(_t,t)})),Ct=Object(xt.subDays)(new Date,30),At=function(e){return new Date(e).toLocaleDateString()},Rt=function(e){var t=function(e){return e.filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){var r=Object(xt.format)(t.date,"YYYY-MM-DD");return e[r]||(e[r]=0),e[r]+=t.total,e}),{})}(e);return Tt.map((function(e){return{date:e.getTime(),total:t[Object(xt.format)(e,"YYYY-MM-DD")]||0}}))},Ut=function(e){var t=e.orders;return t?Object(E.jsxs)(pe.a,{children:[Object(E.jsx)(Ye.a,{title:"Month History"}),Object(E.jsx)(pt.a,{children:Object(E.jsx)("div",{style:{width:"100%",height:300},children:Object(E.jsx)(vt.a,{children:Object(E.jsxs)(gt.a,{data:Rt(t),children:[Object(E.jsx)("defs",{children:Object(E.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(E.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(E.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(E.jsx)(yt.a,{dataKey:"date",name:"Date",type:"number",scale:"time",domain:[Object(xt.addDays)(Ct,1).getTime(),(new Date).getTime()],tickFormatter:At}),Object(E.jsx)(wt.a,{dataKey:"total",name:"Revenue",unit:"\u20ac"}),Object(E.jsx)(St.a,{strokeDasharray:"3 3"}),Object(E.jsx)(kt.a,{cursor:{strokeDasharray:"3 3"},formatter:function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e)},labelFormatter:function(e){return At(e)}}),Object(E.jsx)(Nt.a,{type:"monotone",dataKey:"total",stroke:"#8884d8",strokeWidth:2,fill:"url(#colorUv)"})]})})})})]}):null},Dt={flex:{display:"flex"},flexColumn:{display:"flex",flexDirection:"column"},leftCol:{flex:1,marginRight:"0.5em"},rightCol:{flex:1,marginLeft:"0.5em"},singleCol:{marginTop:"1em",marginBottom:"1em"}},Pt=function(){return Object(E.jsx)("span",{style:{width:"1em"}})},zt=function(){return Object(E.jsx)("span",{style:{height:"1em"}})},Bt=function(){var e=Object(_.a)((function(e){return e.breakpoints.down("xs")})),t=Object(_.a)((function(e){return e.breakpoints.down("md")}));return e?Object(E.jsx)("div",{children:Object(E.jsxs)("div",{style:Dt.flexColumn,children:[Object(E.jsx)(Me,{}),Object(E.jsx)(Qe,{value:""}),Object(E.jsx)(zt,{}),Object(E.jsx)(Xe,{value:778}),Object(E.jsx)(zt,{}),Object(E.jsx)(ct,{orders:[],customers:void 0})]})}):t?Object(E.jsxs)("div",{style:Dt.flexColumn,children:[Object(E.jsx)("div",{style:Dt.singleCol,children:Object(E.jsx)(Me,{})}),Object(E.jsxs)("div",{style:Dt.flex,children:[Object(E.jsx)(Qe,{value:""}),Object(E.jsx)(Pt,{}),Object(E.jsx)(Xe,{value:778})]}),Object(E.jsx)("div",{style:Dt.singleCol,children:Object(E.jsx)(Ut,{orders:void 0})}),Object(E.jsx)("div",{style:Dt.singleCol,children:Object(E.jsx)(ct,{orders:void 0,customers:void 0})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Me,{}),Object(E.jsxs)("div",{style:Dt.flex,children:[Object(E.jsxs)("div",{style:Dt.leftCol,children:[Object(E.jsxs)("div",{style:Dt.flex,children:[Object(E.jsx)(Qe,{value:""}),Object(E.jsx)(Pt,{}),Object(E.jsx)(Xe,{value:579})]}),Object(E.jsx)("div",{style:Dt.singleCol,children:Object(E.jsx)(Ut,{orders:void 0})}),Object(E.jsx)("div",{style:Dt.singleCol,children:Object(E.jsx)(ct,{orders:void 0,customers:void 0})})]}),Object(E.jsx)("div",{style:Dt.rightCol,children:Object(E.jsxs)("div",{style:Dt.flex,children:[Object(E.jsx)(ut,{nb:678,reviews:void 0,customers:void 0}),Object(E.jsx)(Pt,{}),Object(E.jsx)(ft,{})]})})]})]})},Lt=r(1273),It=r(1404),Et=r(110),Ft=Object(U.a)({label:{width:"10em",display:"inline-block"},button:{margin:"1em"}}),Vt=function(){var e=Object(z.a)(),t=Object(Lt.a)(),r=Object(It.a)(),c=Ft(),a=Object(S.f)((function(e){return e.theme})),s=Object(S.e)();return Object(E.jsxs)(pe.a,{children:[Object(E.jsx)(Et.b,{title:e("pos.configuration")}),Object(E.jsxs)(pt.a,{children:[Object(E.jsx)("div",{className:c.label,children:e("pos.theme.name")}),Object(E.jsx)(ye.a,{variant:"contained",className:c.button,color:"light"===a?"primary":"default",onClick:function(){return s(g("light"))},children:e("pos.theme.light")}),Object(E.jsx)(ye.a,{variant:"contained",className:c.button,color:"dark"===a?"primary":"default",onClick:function(){return s(g("dark"))},children:e("pos.theme.dark")})]}),Object(E.jsxs)(pt.a,{children:[Object(E.jsx)("div",{className:c.label,children:e("pos.language")}),Object(E.jsx)(ye.a,{variant:"contained",className:c.button,color:"en"===t?"primary":"default",onClick:function(){return r("en")},children:"en"}),Object(E.jsx)(ye.a,{variant:"contained",className:c.button,color:"fr"===t?"primary":"default",onClick:function(){return r("fr")},children:"fr"})]})]})},Jt=r(1371),Wt=r(1369),Mt=r(1368),qt=r(1372),Gt=r(1370),Ht=r(734),Kt=r.n(Ht),Qt=r(1400),Xt=r(1363),Yt=r(1364),Zt=r(1365),$t=r(1392),er=r(1389),tr=r(1358),rr=r(1356),cr=r(1373),ar=r(1287),sr=[{id:"compulsive",name:"resources.segments.data.compulsive"},{id:"collector",name:"resources.segments.data.collector"},{id:"ordered_once",name:"resources.segments.data.ordered_once"},{id:"regular",name:"resources.segments.data.regular"},{id:"returns",name:"resources.segments.data.returns"},{id:"reviewer",name:"resources.segments.data.reviewer"}],nr=Object(U.a)({main:{display:"flex",flexWrap:"wrap",marginTop:-8,marginBottom:-8},chip:{margin:4}}),or=function(e){var t=e.record,r=Object(z.a)(),c=nr();return t?Object(E.jsx)("span",{className:c.main,children:t.groups&&t.groups.map((function(e){var t=sr.find((function(t){return t.id===e}));return t?Object(E.jsx)(ar.a,{size:"small",className:c.chip,label:r(t.name)},t.id):null}))}):null};or.defaultProps={addLabel:!0,source:"groups"};var ir=or,lr=r(1355),dr=Object(U.a)({input:{width:150}}),jr=function(e){var t=Object(z.a)(),r=dr();return Object(E.jsx)(lr.a,Object(s.a)(Object(s.a)({},e),{},{choices:sr.map((function(e){return{id:e.id,name:t(e.name)}})),className:r.input}))};jr.defaultProps={source:"groups"};var ur=jr,br=r(702),Or=function(e){var t=e.record,r=e.size,c=void 0===r?"25":r,a=e.className;return t?Object(E.jsx)(ve.a,{src:"".concat(t.avatar,"?size=").concat(c,"x").concat(c),style:{width:parseInt(c,10),height:parseInt(c,10)},className:a}):null},mr=Object(U.a)((function(e){return{root:{display:"flex",flexWrap:"nowrap",alignItems:"center"},avatar:{marginRight:e.spacing(1),marginTop:-e.spacing(.5),marginBottom:-e.spacing(.5)}}})),xr=function(e){var t=e.record,r=e.size,c=mr();return t?Object(E.jsxs)("div",{className:c.root,children:[Object(E.jsx)(Or,{className:c.avatar,record:t,size:r}),t.first_name," ",t.last_name]}):null};xr.defaultProps={source:"last_name",label:"resources.customers.fields.name"};var hr=Object(w.memo)(xr),fr=function(e){return e.record?Object(E.jsx)(br.a,{to:"/customers/".concat(e.record.id),children:Object(E.jsx)(hr,Object(s.a)({},e))}):null};fr.defaultProps={source:"customer_id",addLabel:!0};var pr=fr,vr=function(e){return e.record&&e.source?e.record[e.source]>500?Object(E.jsx)("span",{style:{color:"red"},children:Object(E.jsx)(rr.a,Object(s.a)({},e))}):Object(E.jsx)(rr.a,Object(s.a)({},e)):null};vr.defaultProps=rr.a.defaultProps;var gr=vr,yr=r(1357),wr=Object(U.a)((function(e){return{root:{margin:"1em"},card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:Object(s.a)(Object(s.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),Sr=function(e){var t=e.ids,r=e.data,c=e.basePath,a=Object(z.a)(),s=wr();return t&&r?Object(E.jsx)("div",{className:s.root,children:t.map((function(e){return Object(E.jsxs)(pe.a,{className:s.card,children:[Object(E.jsx)(Ye.a,{title:Object(E.jsxs)("div",{className:s.cardTitleContent,children:[Object(E.jsx)("h2",{children:"".concat(r[e].first_name," ").concat(r[e].last_name)}),Object(E.jsx)(yr.a,{resource:"visitors",basePath:c,record:r[e]})]}),avatar:Object(E.jsx)(Or,{record:r[e],size:"45"})}),Object(E.jsxs)(pt.a,{className:s.cardContent,children:[Object(E.jsxs)("div",{children:[a("resources.customers.fields.last_seen_gte"),"\xa0",Object(E.jsx)(tr.a,{record:r[e],source:"last_seen"})]}),Object(E.jsxs)("div",{children:[a("resources.commands.name",r[e].nb_commands||1),"\xa0:\xa0",Object(E.jsx)(rr.a,{record:r[e],source:"nb_commands",label:"resources.customers.fields.commands"})]}),Object(E.jsxs)("div",{children:[a("resources.customers.fields.total_spent"),"\xa0 :"," ",Object(E.jsx)(gr,{record:r[e],source:"total_spent",options:{style:"currency",currency:"USD"}})]})]}),r[e].groups&&r[e].groups.length>0&&Object(E.jsx)(pt.a,{className:s.cardContent,children:Object(E.jsx)(ir,{record:r[e]})})]},e)}))}):null};Sr.defaultProps={data:{},ids:[]};var kr=Sr,Nr=r(7),_r=r(282),Tr=r.n(_r),Cr=r(706),Ar=r.n(Cr),Rr=r(707),Ur=r.n(Rr),Dr=r(708),Pr=r.n(Dr),zr=r(1359),Br=r(1360),Lr=r(1361),Ir=Object(Nr.a)((function(e){var t;return{root:(t={},Object(i.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(i.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(pe.a),Er=function(){return Object(E.jsx)(Ir,{children:Object(E.jsxs)(pt.a,{children:[Object(E.jsx)(zr.a,{}),Object(E.jsxs)(Br.a,{label:"resources.customers.filters.last_visited",icon:Object(E.jsx)(Tr.a,{}),children:[Object(E.jsx)(Lr.a,{label:"resources.customers.filters.today",value:{last_seen_gte:Object(xt.endOfYesterday)().toISOString(),last_seen_lte:void 0}}),Object(E.jsx)(Lr.a,{label:"resources.customers.filters.this_week",value:{last_seen_gte:Object(xt.startOfWeek)(new Date).toISOString(),last_seen_lte:void 0}}),Object(E.jsx)(Lr.a,{label:"resources.customers.filters.last_week",value:{last_seen_gte:Object(xt.subWeeks)(Object(xt.startOfWeek)(new Date),1).toISOString(),last_seen_lte:Object(xt.startOfWeek)(new Date).toISOString()}}),Object(E.jsx)(Lr.a,{label:"resources.customers.filters.this_month",value:{last_seen_gte:Object(xt.startOfMonth)(new Date).toISOString(),last_seen_lte:void 0}}),Object(E.jsx)(Lr.a,{label:"resources.customers.filters.last_month",value:{last_seen_gte:Object(xt.subMonths)(Object(xt.startOfMonth)(new Date),1).toISOString(),last_seen_lte:Object(xt.startOfMonth)(new Date).toISOString()}}),Object(E.jsx)(Lr.a,{label:"resources.customers.filters.earlier",value:{last_seen_gte:void 0,last_seen_lte:Object(xt.subMonths)(Object(xt.startOfMonth)(new Date),1).toISOString()}})]}),Object(E.jsxs)(Br.a,{label:"resources.customers.filters.has_ordered",icon:Object(E.jsx)(Ar.a,{}),children:[Object(E.jsx)(Lr.a,{label:"ra.boolean.true",value:{nb_commands_gte:1,nb_commands_lte:void 0}}),Object(E.jsx)(Lr.a,{label:"ra.boolean.false",value:{nb_commands_gte:void 0,nb_commands_lte:0}})]}),Object(E.jsxs)(Br.a,{label:"resources.customers.filters.has_newsletter",icon:Object(E.jsx)(Ur.a,{}),children:[Object(E.jsx)(Lr.a,{label:"ra.boolean.true",value:{has_newsletter:!0}}),Object(E.jsx)(Lr.a,{label:"ra.boolean.false",value:{has_newsletter:!1}})]}),Object(E.jsx)(Br.a,{label:"resources.customers.filters.group",icon:Object(E.jsx)(Pr.a,{}),children:sr.map((function(e){return Object(E.jsx)(Lr.a,{label:e.name,value:{groups:e.id}},e.id)}))})]})})},Fr=function(e){return Object(E.jsxs)(Qt.a,Object(s.a)(Object(s.a)({},e),{},{children:[Object(E.jsx)(Xt.a,{source:"q",alwaysOn:!0}),Object(E.jsx)(Yt.a,{source:"last_seen_gte"}),Object(E.jsx)(Zt.a,{source:"has_ordered"}),Object(E.jsx)(Zt.a,{source:"has_newsletter",defaultValue:!0}),Object(E.jsx)(ur,{})]}))},Vr=Object(U.a)((function(e){return{nb_commands:{color:"purple"},hiddenOnSmallScreens:Object(i.a)({display:"table-cell"},e.breakpoints.down("md"),{display:"none"})}})),Jr=function(e){var t=Vr(),r=Object(_.a)((function(e){return e.breakpoints.down("xs")})),c=Object(_.a)((function(e){return e.breakpoints.down("sm")}));return Object(E.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{filters:c?Object(E.jsx)(Fr,{}):void 0,sort:{field:"last_seen",order:"DESC"},perPage:25,aside:Object(E.jsx)(Er,{}),children:r?Object(E.jsx)(kr,{}):Object(E.jsxs)(er.a,{optimized:!0,rowClick:"edit",children:[Object(E.jsx)(pr,{}),Object(E.jsx)(tr.a,{source:"last_seen"}),Object(E.jsx)(rr.a,{source:"nb_commands",label:"resources.customers.fields.commands",className:t.nb_commands}),Object(E.jsx)(gr,{source:"total_spent",options:{style:"currency",currency:"USD"}}),Object(E.jsx)(tr.a,{source:"latest_purchase",showTime:!0}),Object(E.jsx)(cr.a,{source:"has_newsletter",label:"News."}),Object(E.jsx)(ir,{cellClassName:t.hiddenOnSmallScreens,headerClassName:t.hiddenOnSmallScreens})]})}))},Wr=r(1396),Mr=r(1401),qr=r(234),Gr=r(701),Hr=r(1375),Kr=Object(U.a)({first_name:{display:"inline-block"},last_name:{display:"inline-block",marginLeft:32},email:{width:544},address:{maxWidth:544},zipcode:{display:"inline-block"},city:{display:"inline-block",marginLeft:32},comment:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},password:{display:"inline-block"},confirmPassword:{display:"inline-block",marginLeft:32}}),Qr=function(e){var t=e.password,r=e.confirmPassword,c={};return t&&r&&t!==r&&(c.confirmPassword=["resources.customers.errors.password_mismatch"]),c},Xr=[Object(Gr.c)()],Yr=function(e){var t=e.label,r=Object(z.a)();return Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:r(t)})},Zr=function(){return Object(E.jsx)(Le.a,{pt:"1em"})},$r=function(e){var t=Kr(e);return Object(E.jsx)(Wr.a,Object(s.a)(Object(s.a)({},e),{},{children:Object(E.jsxs)(Mr.a,{validate:Qr,children:[Object(E.jsx)(Yr,{label:"resources.customers.fieldGroups.identity"}),Object(E.jsx)(qr.a,{autoFocus:!0,source:"first_name",formClassName:t.first_name,validate:Xr}),Object(E.jsx)(qr.a,{source:"last_name",formClassName:t.last_name,validate:Xr}),Object(E.jsx)(qr.a,{type:"email",source:"email",validation:{email:!0},fullWidth:!0,formClassName:t.email,validate:[Object(Gr.c)(),Object(Gr.b)()]}),Object(E.jsx)(Yt.a,{source:"birthday"}),Object(E.jsx)(Zr,{}),Object(E.jsx)(Yr,{label:"resources.customers.fieldGroups.address"}),Object(E.jsx)(qr.a,{source:"address",formClassName:t.address,multiline:!0,fullWidth:!0,helperText:!1}),Object(E.jsx)(qr.a,{source:"zipcode",formClassName:t.zipcode,helperText:!1}),Object(E.jsx)(qr.a,{source:"city",formClassName:t.city,helperText:!1}),Object(E.jsx)(Zr,{}),Object(E.jsx)(Yr,{label:"resources.customers.fieldGroups.password"}),Object(E.jsx)(Hr.a,{source:"password",formClassName:t.password}),Object(E.jsx)(Hr.a,{source:"confirmPassword",formClassName:t.confirmPassword})]})}))},ec=r(1399),tc=r(1393),rc=r(745),cc=r(334),ac=r(1377),sc=r(1407),nc=r(1410),oc=r(1383),ic=r(1402),lc=r(1384),dc=r(1378),jc=r(711),uc=r(235),bc=r.n(uc),Oc=r(741),mc=function(){return Object(E.jsx)(Oc.a,{rowsPerPageOptions:[10,25,50,100]})},xc=r(236),hc=r(52),fc=r(1406),pc=r(1376),vc=function(e){var t=e.basePath,r=e.filters;return Object(E.jsxs)(xc.a,{children:[r&&Object(w.cloneElement)(r,{context:"button"}),"/balance"===t&&Object(E.jsx)(hc.a,{onClick:function(){alert("Deposit Request!")},label:"Deposit Request"}),Object(E.jsx)(fc.a,{icon:Object(E.jsx)(E.Fragment,{})}),Object(E.jsx)(pc.a,{icon:Object(E.jsx)(E.Fragment,{})})]})},gc=function(e){bc()(e,(function(e,t){Object(jc.a)(["\ufeff",t],"orders")}))},yc=Object(U.a)((function(e){return{chip:{marginBottom:e.spacing(1)}}})),wc=function(e){var t=e.label,r=yc();return Object(E.jsx)(ar.a,{className:r.chip,label:t})},Sc=function(e){return Object(E.jsxs)(Qt.a,Object(s.a)(Object(s.a)({},e),{},{children:[Object(E.jsx)(Xt.a,{source:"name",alwaysOn:!0}),Object(E.jsx)(wc,{label:"Order Received",source:"fulfillmentStatus",defaultValue:"order_received"}),Object(E.jsx)(Yt.a,{source:"start_date"}),Object(E.jsx)(Yt.a,{source:"end_date"})]}))},kc=function(e){var t=yc(e);return Object(E.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{classes:t,filters:Object(E.jsx)(Sc,{}),pagination:Object(E.jsx)(mc,{}),sort:{field:"updated_at",order:"DESC"},exporter:gc,actions:Object(E.jsx)(vc,Object(s.a)({},e)),children:Object(E.jsxs)(er.a,{children:[Object(E.jsx)(ac.a,{source:"id"}),Object(E.jsx)(ac.a,{source:"name",label:"Title"}),Object(E.jsx)(ac.a,{source:"fulfillment_status",label:"Status"}),Object(E.jsx)(tr.a,{source:"created_at"}),Object(E.jsx)(tr.a,{source:"updated_at"})]})}))},Nc=r(233),_c=r(1398),Tc=r(1379),Cc=Object(U.a)({rightAlignedCell:{textAlign:"right"}}),Ac=function(e){var t=e.record,r=Cc(),c=Object(z.a)(),a=Object(mt.a)({type:"getMany",resource:"products",payload:{ids:t?t.basket.map((function(e){return e.product_id})):[]}},{},(function(e){return(t?t.basket.map((function(e){return e.product_id})):[]).map((function(t){return e.admin.resources.products.data[t]})).filter((function(e){return"undefined"!==typeof e})).reduce((function(e,t){return e[t.id]=t,e}),{})})),s=a.loaded,n=a.data;return s&&t?Object(E.jsxs)(Jt.a,{children:[Object(E.jsx)(qt.a,{children:Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:c("resources.commands.fields.basket.reference")}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.unit_price")}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.quantity")}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.total")})]})}),Object(E.jsx)(Wt.a,{children:t.basket.map((function(e){return n[e.product_id]&&Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:Object(E.jsx)(br.a,{to:"/products/".concat(e.product_id),children:n[e.product_id].reference})}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:n[e.product_id].price.toLocaleString(void 0,{style:"currency",currency:"USD"})}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:e.quantity}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:(n[e.product_id].price*e.quantity).toLocaleString(void 0,{style:"currency",currency:"USD"})})]},e.product_id)}))})]}):null},Rc=Object(U.a)({container:{minWidth:"35em"},rightAlignedCell:{textAlign:"right"},boldCell:{fontWeight:"bold"}}),Uc=function(e){var t=e.record,r=Rc(),c=Object(z.a)();return Object(E.jsx)(Jt.a,{className:r.container,children:Object(E.jsxs)(Wt.a,{children:[Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:c("resources.commands.fields.basket.sum")}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.total_ex_taxes.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:c("resources.commands.fields.basket.delivery")}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.delivery_fees.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(E.jsxs)(Gt.a,{children:[Object(E.jsxs)(Mt.a,{children:[c("resources.commands.fields.basket.taxes")," (",null===t||void 0===t?void 0:t.tax_rate.toLocaleString(void 0,{style:"percent"}),")"]}),Object(E.jsx)(Mt.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.taxes.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{className:r.boldCell,children:c("resources.commands.fields.basket.total")}),Object(E.jsx)(Mt.a,{className:N()(r.boldCell,r.rightAlignedCell),children:null===t||void 0===t?void 0:t.total.toLocaleString(void 0,{style:"currency",currency:"USD"})})]})]})})},Dc=function(e){var t=e.record,r=Object(z.a)();return t?Object(E.jsx)("span",{children:r("resources.commands.title",{reference:t.reference})}):null},Pc=function(e){var t=e.record;return Object(E.jsxs)(Le.a,{display:"flex",flexDirection:"column",children:[Object(E.jsxs)(ce.a,{component:Ge.a,color:"primary",to:"/customers/".concat(null===t||void 0===t?void 0:t.id),style:{textDecoration:"none"},children:[null===t||void 0===t?void 0:t.first_name," ",null===t||void 0===t?void 0:t.last_name]}),Object(E.jsx)(ce.a,{component:dc.a,color:"primary",href:"mailto:".concat(null===t||void 0===t?void 0:t.email),style:{textDecoration:"none"},children:null===t||void 0===t?void 0:t.email})]})},zc=function(e){var t=e.record;return Object(E.jsxs)(Le.a,{children:[Object(E.jsxs)(ce.a,{children:[null===t||void 0===t?void 0:t.first_name," ",null===t||void 0===t?void 0:t.last_name]}),Object(E.jsx)(ce.a,{children:null===t||void 0===t?void 0:t.address}),Object(E.jsxs)(ce.a,{children:[null===t||void 0===t?void 0:t.city,", ",null===t||void 0===t?void 0:t.stateAbbr," ",null===t||void 0===t?void 0:t.zipcode]})]})},Bc=Object(U.a)({root:{alignItems:"flex-start"}}),Lc=function(){return Object(E.jsx)(Le.a,{m:1,children:"\xa0"})},Ic=function(e){var t=Object(z.a)();return Object(E.jsx)(tc.a,Object(s.a)(Object(s.a)({},e),{},{render:function(e){return Object(E.jsx)(Le.a,{maxWidth:"50em",children:Object(E.jsxs)(pe.a,{children:[Object(E.jsxs)(pt.a,{children:[Object(E.jsxs)(Tc.a,{container:!0,spacing:1,children:[Object(E.jsxs)(Tc.a,{item:!0,xs:12,sm:12,md:8,children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.order")}),Object(E.jsxs)(Tc.a,{container:!0,children:[Object(E.jsx)(Tc.a,{item:!0,xs:12,sm:12,md:6,children:Object(E.jsx)(Nc.a,{source:"date",resource:"commands",children:Object(E.jsx)(tr.a,{source:"date",resource:"commands",record:e.record})})}),Object(E.jsx)(Tc.a,{item:!0,xs:12,sm:12,md:6,children:Object(E.jsx)(Nc.a,{source:"reference",resource:"commands",children:Object(E.jsx)(ac.a,{source:"reference",resource:"commands",record:e.record})})})]}),Object(E.jsxs)(Tc.a,{container:!0,children:[Object(E.jsx)(Tc.a,{item:!0,xs:12,sm:12,md:6,children:Object(E.jsx)(lr.a,{resource:"commands",source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"},{id:"unknown",name:"unknown",disabled:!0}]})}),Object(E.jsx)(Tc.a,{item:!0,xs:12,sm:12,md:6,children:Object(E.jsx)(Le.a,{mt:2,children:Object(E.jsx)(_c.a,{row:!0,resource:"commands",source:"returned"})})})]})]}),Object(E.jsxs)(Tc.a,{item:!0,xs:12,sm:12,md:4,children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.customer")}),Object(E.jsx)(sc.a,{source:"customer_id",resource:"commands",reference:"customers",basePath:"/customers",record:e.record,link:!1,children:Object(E.jsx)(Pc,{})}),Object(E.jsx)(Lc,{}),Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.shipping_address")}),Object(E.jsx)(sc.a,{source:"customer_id",resource:"commands",reference:"customers",basePath:"/customers",record:e.record,link:!1,children:Object(E.jsx)(zc,{})})]})]}),Object(E.jsx)(Lc,{}),Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.items")}),Object(E.jsx)(Le.a,{children:Object(E.jsx)(Ac,{record:e.record})}),Object(E.jsx)(Lc,{}),Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.total")}),Object(E.jsx)(Le.a,{children:Object(E.jsx)(Uc,{record:e.record})})]}),Object(E.jsx)(rc.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"commands"})]})})}}))},Ec={list:kc,edit:function(e){var t=Bc();return Object(E.jsx)(ec.a,Object(s.a)(Object(s.a)({title:Object(E.jsx)(Dc,{}),classes:t},e),{},{component:"div",children:Object(E.jsx)(Ic,{})}))},icon:X.a},Fc=r(742),Vc=r(473),Jc=r(372),Wc=r.n(Jc),Mc=r(750),qc=r(1366),Gc=r(656),Hc=r(1381),Kc=[],Qc=function(e){var t=e.selectedIds,r=void 0===t?Kc:t,c=Object(Te.a)(),a=Object(Mc.a)(),s=Object(qc.a)("reviews"),n=Object(Gc.a)("reviews",r,{status:"accepted"},{action:Hc.a,undoable:!0,onSuccess:function(){c("resources.reviews.notification.approved_success","info",{},!0),a(),s()},onFailure:function(){c("resources.reviews.notification.approved_error","warning")}}),o=Object(H.a)(n,2),i=o[0],l=o[1].loading;return Object(E.jsx)(hc.a,{label:"resources.reviews.action.accept",onClick:i,disabled:l,children:Object(E.jsx)(Wc.a,{})})},Xc=r(373),Yc=r.n(Xc),Zc=[],$c=function(e){var t=e.selectedIds,r=void 0===t?Zc:t,c=Object(Te.a)(),a=Object(Mc.a)(),s=Object(qc.a)("reviews"),n=Object(Gc.a)("reviews",r,{status:"rejected"},{action:Hc.a,undoable:!0,onSuccess:function(){c("resources.reviews.notification.approved_success","info",{},!0),a(),s()},onFailure:function(){c("resources.reviews.notification.approved_error","warning")}}),o=Object(H.a)(n,2),i=o[0],l=o[1].loading;return Object(E.jsx)(hc.a,{label:"resources.reviews.action.reject",onClick:i,disabled:l,children:Object(E.jsx)(Yc.a,{})})},ea=r(1362),ta=r(381),ra=r(1382),ca=Object(U.a)({root:{width:"100vw"},link:{textDecoration:"none",color:"inherit"},inline:{display:"inline"}}),aa=function(){var e=ca(),t=Object(ea.a)(),r=t.basePath,c=t.data,a=t.ids,s=t.loaded,n=t.total;return s||Number(n)>0?Object(E.jsx)(se.a,{className:e.root,children:a.map((function(t){var a=c[t];return a?Object(E.jsx)(Ge.a,{to:Object(ta.a)(r,t),className:e.link,children:Object(E.jsxs)(Ze.a,{button:!0,children:[Object(E.jsx)(et.a,{children:Object(E.jsx)(sc.a,{record:a,source:"customer_id",reference:"customers",basePath:r,link:!1,children:Object(E.jsx)(Or,{size:"40"})})}),Object(E.jsx)(tt.a,{primary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(sc.a,{record:a,source:"customer_id",reference:"customers",basePath:r,link:!1,children:Object(E.jsx)(ra.a,{render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},variant:"subtitle1",className:e.inline})})," ","on"," ",Object(E.jsx)(sc.a,{record:a,source:"product_id",reference:"products",basePath:r,link:!1,children:Object(E.jsx)(ac.a,{source:"reference",variant:"subtitle1",className:e.inline})})]}),secondary:a.comment,secondaryTypographyProps:{noWrap:!0}})]})},t):null}))}):null};aa.defaultProps={hasBulkActions:!1,selectedIds:[]};var sa=aa,na=function(e){return Object(E.jsx)(sc.a,Object(s.a)(Object(s.a)({label:"Product",source:"product_id",reference:"products"},e),{},{children:Object(E.jsx)(ac.a,{source:"reference"})}))};na.defaultProps={source:"product_id",addLabel:!0};var oa=na,ia=function(e){return Object(E.jsx)(sc.a,Object(s.a)(Object(s.a)({source:"customer_id",reference:"customers"},e),{},{children:Object(E.jsx)(hr,{})}))};ia.defaultProps={source:"customer_id",addLabel:!0};var la=ia,da=r(729),ja=r.n(da),ua=r(730),ba=r.n(ua),Oa=r(731),ma=r.n(Oa),xa=r(64),ha=function(e){return function(t){var r=Object(xa.a)(),c={};return t?(e&&e===t.id&&(c=Object(s.a)(Object(s.a)({},c),{},{backgroundColor:r.palette.action.selected})),"accepted"===t.status?Object(s.a)(Object(s.a)({},c),{},{borderLeftColor:ja.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"pending"===t.status?Object(s.a)(Object(s.a)({},c),{},{borderLeftColor:ba.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"rejected"===t.status?Object(s.a)(Object(s.a)({},c),{},{borderLeftColor:ma.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):c):c}},fa=["selectedRow"],pa=Object(U.a)({headerRow:{borderLeftColor:"transparent",borderLeftWidth:5,borderLeftStyle:"solid"},headerCell:{padding:"6px 8px 6px 8px"},rowCell:{padding:"6px 8px 6px 8px"},comment:{maxWidth:"18em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),va=function(e){var t=e.selectedRow,r=Object(me.a)(e,fa),c=pa();return Object(E.jsxs)(er.a,Object(s.a)(Object(s.a)({rowClick:"edit",rowStyle:ha(t),classes:{headerRow:c.headerRow,headerCell:c.headerCell,rowCell:c.rowCell},optimized:!0},r),{},{children:[Object(E.jsx)(tr.a,{source:"date"}),Object(E.jsx)(la,{link:!1}),Object(E.jsx)(oa,{link:!1}),Object(E.jsx)(dt,{size:"small"}),Object(E.jsx)(ac.a,{source:"comment",cellClassName:c.comment}),Object(E.jsx)(ac.a,{source:"status"})]}))},ga=r(1394),ya=r(1395),wa=Object(U.a)({status:{width:150}}),Sa=function(e){var t=wa();return Object(E.jsxs)(Qt.a,Object(s.a)(Object(s.a)({},e),{},{children:[Object(E.jsx)(Xt.a,{source:"q",alwaysOn:!0}),Object(E.jsx)(lr.a,{source:"status",choices:[{id:"accepted",name:"Accepted"},{id:"pending",name:"Pending"},{id:"rejected",name:"Rejected"}],className:t.status}),Object(E.jsx)(ga.a,{source:"customer_id",reference:"customers",children:Object(E.jsx)(ya.a,{optionText:function(e){return(null===e||void 0===e?void 0:e.id)?"".concat(e.first_name," ").concat(e.last_name):""}})}),Object(E.jsx)(ga.a,{source:"product_id",reference:"products",children:Object(E.jsx)(ya.a,{optionText:"reference"})}),Object(E.jsx)(Yt.a,{source:"date_gte"}),Object(E.jsx)(Yt.a,{source:"date_lte"})]}))},ka=r(1409),Na=r(1380),_a=r(365),Ta=r.n(_a),Ca=r(1374),Aa=r(1397),Ra=r(1282),Ua=r(655),Da=function(e){var t=e.record,r=Object(z.a)(),c=Object(Te.a)(),a=Object(Ra.a)(),s=Object(Ua.a)("reviews",t.id,{status:"accepted"},t,{undoable:!0,onSuccess:function(){c("resources.reviews.notification.approved_success","info",{},!0),a("/reviews")},onFailure:function(){c("resources.reviews.notification.approved_error","warning")}}),n=Object(H.a)(s,2),o=n[0],i=n[1].loading;return t&&"pending"===t.status?Object(E.jsxs)(ye.a,{variant:"outlined",color:"primary",size:"small",onClick:o,disabled:i,children:[Object(E.jsx)(Wc.a,{color:"primary",style:{paddingRight:"0.5em",color:"green"}}),r("resources.reviews.action.accept")]}):Object(E.jsx)("span",{})},Pa=function(e){var t=e.record,r=Object(z.a)(),c=Object(Te.a)(),a=Object(Ra.a)(),s=Object(Ua.a)("reviews",t.id,{status:"rejected"},t,{undoable:!0,onSuccess:function(){c("resources.reviews.notification.rejected_success","info",{},!0),a("/reviews")},onFailure:function(){c("resources.reviews.notification.rejected_error","warning")}}),n=Object(H.a)(s,2),o=n[0],i=n[1].loading;return t&&"pending"===t.status?Object(E.jsxs)(ye.a,{variant:"outlined",color:"primary",size:"small",onClick:o,disabled:i,children:[Object(E.jsx)(Yc.a,{color:"primary",style:{paddingRight:"0.5em",color:"red"}}),r("resources.reviews.action.reject")]}):Object(E.jsx)("span",{})},za=Object(U.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"space-between"}}})),Ba=function(e){var t=e.basePath,r=e.handleSubmitWithRedirect,c=e.invalid,a=e.record,s=e.resource,n=e.saving,o=za();return a?Object(E.jsx)(C.a,{className:o.root,children:"pending"===a.status?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Da,{record:a}),Object(E.jsx)(Pa,{record:a})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ca.a,{handleSubmitWithRedirect:r,invalid:c,saving:n,redirect:"list",submitOnEnter:!0}),Object(E.jsx)(Aa.a,{basePath:t,record:a,resource:s})]})}):null},La=["onCancel"],Ia=Object(U.a)((function(e){var t;return{root:{paddingTop:40},title:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"1em"},form:(t={},Object(i.a)(t,e.breakpoints.up("xs"),{width:400}),Object(i.a)(t,e.breakpoints.down("xs"),{width:"100vw",marginTop:-30}),t),inlineField:{display:"inline-block",width:"50%"}}})),Ea=function(e){var t=e.onCancel,r=Object(me.a)(e,La),c=Ia(),a=Object(ka.a)(r),s=Object(z.a)();return a.record?Object(E.jsxs)("div",{className:c.root,children:[Object(E.jsxs)("div",{className:c.title,children:[Object(E.jsx)(ce.a,{variant:"h6",children:s("resources.reviews.detail")}),Object(E.jsx)(R.a,{onClick:t,children:Object(E.jsx)(Ta.a,{})})]}),Object(E.jsx)(Na.a,{value:a,children:Object(E.jsxs)(Mr.a,{className:c.form,basePath:a.basePath,record:a.record,save:a.save,version:a.version,redirect:"list",resource:"reviews",toolbar:Object(E.jsx)(Ba,{}),children:[Object(E.jsx)(la,{formClassName:c.inlineField}),Object(E.jsx)(oa,{formClassName:c.inlineField}),Object(E.jsx)(tr.a,{source:"date",formClassName:c.inlineField}),Object(E.jsx)(dt,{formClassName:c.inlineField}),Object(E.jsx)(qr.a,{source:"comment",rowsMax:15,multiline:!0,fullWidth:!0})]})})]}):null},Fa=function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Qc,Object(s.a)({},e)),Object(E.jsx)($c,Object(s.a)({},e)),Object(E.jsx)(Fc.a,Object(s.a)({},e))]})},Va=Object(U.a)((function(e){return{root:{display:"flex"},list:{flexGrow:1,transition:e.transitions.create(["all"],{duration:e.transitions.duration.enteringScreen}),marginRight:0},listWithDrawer:{marginRight:400},drawerPaper:{zIndex:100}}})),Ja=function(e){var t=Va(),r=Object(_.a)((function(e){return e.breakpoints.down("xs")})),c=Object(he.g)(),a=Object(w.useCallback)((function(){c.push("/reviews")}),[c]);return Object(E.jsx)("div",{className:t.root,children:Object(E.jsx)(he.b,{path:"/reviews/:id",children:function(c){var n=c.match,o=!(!n||!n.params||"create"===n.params.id);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{className:N()(t.list,Object(i.a)({},t.listWithDrawer,o)),bulkActionButtons:Object(E.jsx)(Fa,{}),filters:Object(E.jsx)(Sa,{}),perPage:25,sort:{field:"date",order:"DESC"},children:r?Object(E.jsx)(sa,{}):Object(E.jsx)(va,{selectedRow:o?parseInt(n.params.id,10):void 0})})),Object(E.jsx)(Vc.a,{variant:"persistent",open:o,anchor:"right",onClose:a,classes:{paper:t.drawerPaper},children:o?Object(E.jsx)(Ea,{id:n.params.id,onCancel:a,resource:e.resource,basePath:e.basePath}):null})]})}})})},Wa={icon:st.a,list:Ja},Ma=Object(U.a)((function(e){return{root:Object(i.a)({width:400},e.breakpoints.down("md"),{display:"none"})}})),qa=Object(U.a)({stepper:{background:"none",border:"none",marginLeft:"0.3em"}}),Ga=function(e){var t=e.record,r=e.basePath,c=Object(z.a)(),a=qa(),s=Object(Lt.a)(),n=Object(cc.a)("commands",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),o=n.data,i=n.ids,l=Object(cc.a)("reviews",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),d=l.data,j=l.ids,u=Ha(o,i,d,j);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Le.a,{m:"0 0 1em 1em",children:Object(E.jsx)(pe.a,{children:Object(E.jsxs)(pt.a,{children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:c("resources.customers.fieldGroups.history")}),Object(E.jsxs)(Le.a,{display:"flex",children:[Object(E.jsxs)(Le.a,{flexGrow:1,children:[Object(E.jsxs)(Le.a,{display:"flex",mb:"1em",children:[Object(E.jsx)(Le.a,{mr:"1em",children:Object(E.jsx)(Tr.a,{fontSize:"small",color:"disabled"})}),Object(E.jsxs)(Le.a,{flexGrow:1,children:[Object(E.jsx)(ce.a,{children:c("resources.customers.fields.first_seen")}),Object(E.jsx)(tr.a,{record:t,source:"first_seen"})]})]}),i&&i.length>0&&Object(E.jsxs)(Le.a,{display:"flex",children:[Object(E.jsx)(Le.a,{mr:"1em",children:Object(E.jsx)(Ec.icon,{fontSize:"small",color:"disabled"})}),Object(E.jsx)(Le.a,{flexGrow:1,children:Object(E.jsx)(ce.a,{children:c("resources.commands.amount",{smart_count:i.length})})})]})]}),Object(E.jsxs)(Le.a,{flexGrow:1,children:[Object(E.jsxs)(Le.a,{display:"flex",mb:"1em",children:[Object(E.jsx)(Le.a,{mr:"1em",children:Object(E.jsx)(Tr.a,{fontSize:"small",color:"disabled"})}),Object(E.jsxs)(Le.a,{flexGrow:1,children:[Object(E.jsx)(ce.a,{children:c("resources.customers.fields.last_seen")}),Object(E.jsx)(tr.a,{record:t,source:"last_seen"})]})]}),j&&j.length>0&&Object(E.jsxs)(Le.a,{display:"flex",children:[Object(E.jsx)(Le.a,{mr:"1em",children:Object(E.jsx)(Wa.icon,{fontSize:"small",color:"disabled"})}),Object(E.jsx)(Le.a,{flexGrow:1,children:Object(E.jsx)(ce.a,{children:c("resources.reviews.amount",{smart_count:j.length})})})]})]})]})]})})}),Object(E.jsx)(nc.a,{orientation:"vertical",classes:{root:a.stepper},children:u.map((function(e){return Object(E.jsxs)(oc.a,{expanded:!0,active:!0,completed:!0,children:[Object(E.jsx)(ic.a,{StepIconComponent:function(){var t="order"===e.type?Ec.icon:Wa.icon;return Object(E.jsx)(t,{fontSize:"small",color:"disabled",style:{paddingLeft:3}})},children:new Date(e.date).toLocaleString(s,{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}),Object(E.jsx)(lc.a,{children:"order"===e.type?Object(E.jsx)(Ka,{record:e.data,basePath:r},"event_".concat(e.data.id)):Object(E.jsx)(Xa,{record:e.data,basePath:r},"review_".concat(e.data.id))})]},"".concat(e.type,"-").concat(e.data.id))}))})]})},Ha=function(e,t,r,c){var a=t&&e?t.map((function(t){return{type:"order",date:e[t].date,data:e[t]}})):[],s=c&&r?c.map((function(e){return{type:"review",date:r[e].date,data:r[e]}})):[],n=a.concat(s);return n.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),n},Ka=function(e){var t=e.record,r=e.basePath,c=Object(z.a)();return t?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{variant:"body2",gutterBottom:!0,children:Object(E.jsxs)(dc.a,{to:"/commands/".concat(t.id),component:Ge.a,children:[c("resources.commands.name",{smart_count:1})," ","#",t.reference]})}),Object(E.jsxs)(ce.a,{variant:"body2",color:"textSecondary",children:[c("resources.commands.nb_items",{smart_count:t.basket.length,_:"1 item |||| %{smart_count} items"}),"\xa0-\xa0",Object(E.jsx)(rr.a,{source:"total",options:{style:"currency",currency:"USD"},record:t,basePath:r}),"\xa0-\xa0",Object(E.jsx)(ac.a,{source:"status",record:t,basePath:r})]})]}):null},Qa=Object(U.a)({clamp:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}),Xa=function(e){var t=e.record,r=e.basePath,c=Qa(),a=Object(z.a)();return t?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce.a,{variant:"body2",gutterBottom:!0,children:Object(E.jsxs)(dc.a,{to:"/reviews/".concat(t.id),component:Ge.a,children:[a("resources.reviews.relative_to_poster"),' "',Object(E.jsx)(sc.a,{source:"product_id",reference:"products",resource:"reviews",record:t,basePath:r,link:!1,children:Object(E.jsx)(ac.a,{source:"reference",component:"span"})}),'"']})}),Object(E.jsx)(ce.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(E.jsx)(dt,{record:t})}),Object(E.jsx)(ce.a,{variant:"body2",color:"textSecondary",className:c.clamp,children:t.comment})]}):null},Ya=function(e){var t=e.record,r=e.basePath,c=Ma();return Object(E.jsx)("div",{className:c.root,children:t&&Object(E.jsx)(Ga,{record:t,basePath:r})})},Za=r(1385),$a=["addField"],es=function(e){e.addField;var t=Object(me.a)(e,$a),r=Object(z.a)();return Object(E.jsx)(Za.a,Object(s.a)(Object(s.a)({source:"groups"},t),{},{choices:sr.map((function(e){return{id:e.id,name:r(e.name)}}))}))};es.defaultProps={addField:!0,source:"groups",resource:"customers"};var ts=es,rs=function(e){var t=e.record;return t?Object(E.jsx)(hr,{record:t,size:"32"}):null},cs=function(e){var t=Object(z.a)();return Object(E.jsx)(tc.a,Object(s.a)(Object(s.a)({},e),{},{validate:Qr,render:function(e){return Object(E.jsx)(pe.a,{children:Object(E.jsxs)("form",{children:[Object(E.jsx)(pt.a,{children:Object(E.jsxs)(Le.a,{display:{md:"block",lg:"flex"},children:[Object(E.jsxs)(Le.a,{flex:2,mr:{md:0,lg:"1em"},children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.identity")}),Object(E.jsxs)(Le.a,{display:{xs:"block",sm:"flex"},children:[Object(E.jsx)(Le.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(E.jsx)(qr.a,{source:"first_name",resource:"customers",validate:as,fullWidth:!0})}),Object(E.jsx)(Le.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(E.jsx)(qr.a,{source:"last_name",resource:"customers",validate:as,fullWidth:!0})})]}),Object(E.jsx)(qr.a,{type:"email",source:"email",resource:"customers",validate:[Object(Gr.b)(),Object(Gr.c)()],fullWidth:!0}),Object(E.jsxs)(Le.a,{display:{xs:"block",sm:"flex"},children:[Object(E.jsx)(Le.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(E.jsx)(Yt.a,{source:"birthday",resource:"customers",fullWidth:!0,helperText:!1})}),Object(E.jsx)(Le.a,{flex:2,ml:{xs:0,sm:"0.5em"}})]}),Object(E.jsx)(Le.a,{mt:"1em"}),Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.address")}),Object(E.jsx)(qr.a,{source:"address",resource:"customers",multiline:!0,fullWidth:!0,helperText:!1}),Object(E.jsxs)(Le.a,{display:{xs:"block",sm:"flex"},children:[Object(E.jsx)(Le.a,{flex:2,mr:{xs:0,sm:"0.5em"},children:Object(E.jsx)(qr.a,{source:"city",resource:"customers",fullWidth:!0,helperText:!1})}),Object(E.jsx)(Le.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(E.jsx)(qr.a,{source:"stateAbbr",resource:"customers",fullWidth:!0,helperText:!1})}),Object(E.jsx)(Le.a,{flex:2,children:Object(E.jsx)(qr.a,{source:"zipcode",resource:"customers",fullWidth:!0,helperText:!1})})]}),Object(E.jsx)(Le.a,{mt:"1em"}),Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.change_password")}),Object(E.jsxs)(Le.a,{display:{xs:"block",sm:"flex"},children:[Object(E.jsx)(Le.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(E.jsx)(Hr.a,{source:"password",resource:"customers",fullWidth:!0})}),Object(E.jsx)(Le.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(E.jsx)(Hr.a,{source:"confirm_password",resource:"customers",fullWidth:!0})})]})]}),Object(E.jsxs)(Le.a,{flex:1,ml:{xs:0,lg:"1em"},mt:{xs:"1em",lg:0},children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.stats")}),Object(E.jsx)("div",{children:Object(E.jsx)(ts,{fullWidth:!0})}),Object(E.jsx)("div",{children:Object(E.jsx)(Zt.a,{source:"has_newsletter",resource:"customers"})})]})]})}),Object(E.jsx)(rc.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"customers"})]})})}}))},as=[Object(Gr.c)()],ss={list:Jr,create:$r,edit:function(e){return Object(E.jsx)(ec.a,Object(s.a)(Object(s.a)({title:Object(E.jsx)(rs,{}),aside:Object(E.jsx)(Ya,{}),component:"div"},e),{},{children:Object(E.jsx)(cs,{})}))},icon:Kt.a},ns=Object(U.a)({icon:{paddingRight:"0.5em"},link:{display:"inline-flex",alignItems:"center"}}),os=function(e){var t=e.segment,r=Object(z.a)(),c=ns();return Object(E.jsxs)(ye.a,{size:"small",color:"primary",component:Ge.a,to:{pathname:"/customers",search:Object(d.stringify)({filter:JSON.stringify({groups:t})})},className:c.link,children:[Object(E.jsx)(ss.icon,{className:c.icon}),r("resources.segments.fields.customers")]})},is=Object(U.a)({root:{marginTop:16}}),ls=function(){var e=Object(z.a)(),t=is();return Object(E.jsxs)(pe.a,{className:t.root,children:[Object(E.jsx)(Et.b,{title:e("resources.segments.name",{smart_count:2})}),Object(E.jsxs)(Jt.a,{size:"small",children:[Object(E.jsx)(qt.a,{children:Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:e("resources.segments.fields.name")}),Object(E.jsx)(Mt.a,{})]})}),Object(E.jsx)(Wt.a,{children:sr.map((function(t){return Object(E.jsxs)(Gt.a,{children:[Object(E.jsx)(Mt.a,{children:e(t.name)}),Object(E.jsx)(Mt.a,{children:Object(E.jsx)(os,{segment:t.id})})]},t.id)}))})]})]})},ds=[Object(E.jsx)(he.b,{exact:!0,path:"/configuration",render:function(){return Object(E.jsx)(Vt,{})}}),Object(E.jsx)(he.b,{exact:!0,path:"/segments",render:function(){return Object(E.jsx)(ls,{})}})],js=r(1386),us=function(e){var t=Object(js.a)(e).record,r=bs();return t?Object(E.jsx)(pe.a,{className:r.root,children:Object(E.jsxs)(pt.a,{children:[Object(E.jsxs)(Tc.a,{container:!0,spacing:2,children:[Object(E.jsxs)(Tc.a,{item:!0,xs:6,children:[Object(E.jsx)(ce.a,{variant:"h6",gutterBottom:!0,children:"Order Line Number: ".concat(t.order_reference)}),Object(E.jsx)(ce.a,{variant:"subtitle1",gutterBottom:!0,children:"Activities: ".concat(t.activity," / Amount: $").concat(t.change)})]}),Object(E.jsx)(Tc.a,{item:!0,xs:6,children:Object(E.jsx)(ce.a,{variant:"subtitle1",gutterBottom:!0,align:"right",children:"View Order Detail"})})]}),Object(E.jsx)("div",{className:r.balance,children:Object(E.jsx)(sc.a,{resource:"balance",reference:"orders",source:"id",basePath:"/balance",record:t,link:!1,children:Object(E.jsx)(kc,{})})})]})}):null},bs=Object(U.a)({root:{width:600,margin:"auto"},spacer:{height:20},balance:{margin:"10px 0"}}),Os=function(e){bc()(e,(function(e,t){Object(jc.a)(["\ufeff",t],"balances")}))},ms=Object(U.a)((function(e){return{hiddenOnSmallScreens:Object(i.a)({display:"table-cell"},e.breakpoints.down("md"),{display:"none"}),balacneInfo:{marginTop:e.spacing(4),marginBottom:e.spacing(-2),color:"#666"},chip:{marginBottom:e.spacing(1)}}})),xs=function(e){var t=e.label,r=ms();return Object(E.jsx)(ar.a,{className:r.chip,label:t})},hs=function(e){return Object(E.jsxs)(Qt.a,Object(s.a)(Object(s.a)({},e),{},{children:[Object(E.jsx)(Xt.a,{source:"order_reference",alwaysOn:!0}),Object(E.jsx)(xs,{label:"Refund",source:"activity",defaultValue:"Refund"}),Object(E.jsx)(Yt.a,{source:"start_date"}),Object(E.jsx)(Yt.a,{source:"end_date"})]}))},fs={list:function(e){var t=ms(e);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h3",{className:t.balacneInfo,children:"Balance $300.00"}),Object(E.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{classes:t,filters:Object(E.jsx)(hs,{}),pagination:Object(E.jsx)(mc,{}),sort:{field:"created_at",order:"DESC"},exporter:Os,actions:Object(E.jsx)(vc,Object(s.a)({},e)),children:Object(E.jsxs)(er.a,{rowClick:"expand",expand:Object(E.jsx)(us,{}),children:[Object(E.jsx)(ac.a,{source:"id",label:"ID"}),Object(E.jsx)(ac.a,{source:"activity",label:"Activities",sortable:!1}),Object(E.jsx)(rr.a,{source:"change",locales:["en"],options:{style:"currency",currency:"USD"},label:"Amount"}),Object(E.jsx)(rr.a,{source:"current",locales:["en"],options:{style:"currency",currency:"USD"},label:"Balance"}),Object(E.jsx)(ac.a,{source:"order_reference",label:"Order"}),Object(E.jsx)(ac.a,{source:"order_line",label:"Order Line",sortable:!1,headerClassName:t.hiddenOnSmallScreens,cellClassName:t.hiddenOnSmallScreens}),Object(E.jsx)(ac.a,{source:"created_at"}),Object(E.jsx)(ac.a,{source:"note",sortable:!1,headerClassName:t.hiddenOnSmallScreens,cellClassName:t.hiddenOnSmallScreens})]})}))]})},icon:ee.a},ps=Object(U.a)((function(e){return{hiddenOnSmallScreens:Object(i.a)({display:"table-cell"},e.breakpoints.down("md"),{display:"none"})}})),vs={list:function(e){var t=ps();return Object(E.jsx)($t.a,Object(s.a)(Object(s.a)({},e),{},{pagination:Object(E.jsx)(mc,{}),sort:{field:"updated_at",order:"DESC"},bulkActionButtons:!1,children:Object(E.jsxs)(er.a,{children:[Object(E.jsx)(ac.a,{source:"id",label:"ID"}),Object(E.jsx)(rr.a,{source:"change",locales:["en"],options:{style:"currency",currency:"USD"},label:"Amount"}),Object(E.jsx)(ac.a,{source:"updated_at",label:"Date"}),Object(E.jsx)(ac.a,{source:"status"}),Object(E.jsx)(ac.a,{source:"note",sortable:!1,headerClassName:t.hiddenOnSmallScreens,cellClassName:t.hiddenOnSmallScreens})]})}))}},gs=function(){return Object(E.jsxs)(n.a,{title:"",dataProvider:b,customReducers:{theme:y},customRoutes:ds,authProvider:p,dashboard:Bt,loginPage:Be,layout:Oe,disableTelemetry:!0,children:[Object(E.jsx)(o.a,Object(s.a)(Object(s.a)({},fs),{},{name:"balance",options:{label:"Balance"}})),Object(E.jsx)(o.a,Object(s.a)(Object(s.a)({},vs),{},{name:"request",options:{label:"Request"}})),Object(E.jsx)(o.a,Object(s.a)(Object(s.a)({},Ec),{},{name:"orders",options:{label:"Orders"}}))]})};a.a.render(Object(E.jsx)(gs,{}),document.getElementById("root"))}},[[1263,1,2]]]);
//# sourceMappingURL=main.9fc1210b.chunk.js.map