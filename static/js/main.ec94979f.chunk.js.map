{"version":3,"sources":["myDataProvider.js","authProvider.ts","configuration/actions.ts","themeReducer.ts","layout/Logo.tsx","layout/AppBar.tsx","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","Utils.ts","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","reviews/StarRatingField.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","configuration/Configuration.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/OrderList.tsx","orders/Basket.tsx","orders/Totals.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","visitors/CustomerReferenceField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","balance/BalanceShow.tsx","balance/BalanceList.tsx","balance/index.ts","App.tsx","index.tsx"],"names":["apiUrl","httpClient","url","options","headers","Headers","token","sessionStorage","getItem","set","fetchUtils","fetchJson","getList","resource","params","pagination","page","perPage","sort","field","order","query","JSON","stringify","range","filter","then","json","data","total","getOne","id","getMany","ids","getManyReference","target","parseInt","get","split","pop","update","method","body","updateMany","create","delete","deleteMany","loginAPI","email","password","a","dataProvider","response","authProvider","login","success","setItem","Promise","resolve","reject","logout","removeItem","checkError","checkAuth","getPermissions","getIdentity","fullName","avatar","CHANGE_THEME","changeTheme","theme","type","payload","themeReducer","previousState","action","Logo","style","color","fontSize","fontWeight","useStyles","makeStyles","title","flex","textOverflow","whiteSpace","overflow","spacer","ConfigurationMenu","forwardRef","props","ref","translate","useTranslate","MenuItemLink","to","primaryText","leftIcon","onClick","sidebarIsOpen","CustomUserMenu","UserMenu","CustomAppBar","classes","AppBar","elevation","userMenu","className","icon","minWidth","spacing","paddingLeft","transition","sidebarIsClosed","SubMenu","handleToggle","isOpen","name","children","dense","useSelector","state","admin","ui","sidebarOpen","header","MenuItem","button","ListItemIcon","Typography","variant","Tooltip","placement","Collapse","in","timeout","unmountOnExit","List","component","disablePadding","root","marginTop","Menu","useState","menuCatalog","menuSales","menuCustomers","setState","DashboardMenuItem","menu","darkTheme","palette","primary","main","secondary","overrides","MuiAppBar","colorSecondary","backgroundColor","MuiButtonBase","content","display","width","height","position","top","right","opacity","borderRadius","disableRipple","lightTheme","light","dark","contrastText","background","default","shape","RaMenuItemLink","borderLeft","active","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","MuiSnackbarContent","CustomSidebar","Sidebar","size","Layout","appBar","sidebar","flexDirection","minHeight","alignItems","justifyContent","backgroundRepeat","backgroundSize","card","margin","hint","grey","form","padding","input","actions","renderInput","meta","touched","error","undefined","inputProps","TextField","helperText","fullWidth","Form","withTypes","Login","loading","setLoading","notify","useNotify","useLogin","location","useLocation","onSubmit","auth","nextPathname","catch","message","_","validate","values","errors","test","render","handleSubmit","noValidate","Card","Avatar","autoFocus","label","disabled","initialValue","CardActions","Button","CircularProgress","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","marginBottom","media","publishArticleImage","marginLeft","breakpoints","down","flexWrap","marginRight","Welcome","Box","gutterBottom","maxWidth","href","startIcon","xs","sm","md","textDecoration","CardWithIcon","subtitle","createElement","textAlign","Divider","MonthlyRevenue","value","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","text","PendingOrders","orders","customers","CardHeader","map","record","ListItem","Link","ListItemAvatar","customer_id","src","ListItemText","Date","date","toLocaleString","ListItemSecondaryAction","large","small","StarRatingField","Array","rating","fill","i","defaultProps","source","addLabel","paper","listItemText","overflowY","WebkitLineClamp","WebkitBoxOrient","link","linkContent","PendingReviews","reviews","nb","CommentIcon","comment","paddingRight","flexGrow","p","NewCustomers","aMonthAgo","subDays","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","useQueryWithStore","has_ordered","first_seen_gte","toISOString","loaded","visitors","reduce","CustomerIcon","first_name","last_name","lastDay","lastMonthDays","from","length","dateFormatter","toLocaleDateString","getRevenuePerDay","daysWithRevenue","status","acc","curr","day","format","aggregateOrdersByDay","getTime","OrderChart","CardContent","ResponsiveContainer","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","XAxis","dataKey","scale","domain","addDays","tickFormatter","YAxis","unit","CartesianGrid","strokeDasharray","cursor","formatter","Intl","NumberFormat","currency","labelFormatter","Area","stroke","strokeWidth","styles","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","isXSmall","useMediaQuery","isSmall","Configuration","locale","useLocale","setLocale","useSetLocale","dispatch","useDispatch","Title","chip","SegmentsField","groups","segmentId","segment","segments","find","s","Chip","SegmentInput","SelectInput","choices","AvatarField","FullNameField","memo","CustomerLinkField","ColoredNumberField","NumberField","cardTitleContent","cardContent","typography","body1","MobileGrid","basePath","EditButton","DateField","nb_commands","withStyles","up","MuiCard","Aside","FilterLiveSearch","FilterList","FilterListItem","last_seen_gte","endOfYesterday","last_seen_lte","startOfWeek","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","Filter","SearchInput","alwaysOn","DateInput","NullableBooleanInput","defaultValue","hiddenOnSmallScreens","VisitorList","isXsmall","filters","aside","VisitorListAside","Datagrid","optimized","rowClick","showTime","BooleanField","cellClassName","headerClassName","address","zipcode","city","confirmPassword","validatePasswords","requiredValidate","required","SectionTitle","Separator","pt","VisitorCreate","Create","SimpleForm","TextInput","formClassName","validation","multiline","PasswordInput","OrderFilter","ReferenceInput","reference","AutocompleteInput","optionText","choice","OrderList","filterDefaultValues","rightAlignedCell","Basket","basket","item","product_id","productId","resources","products","r","prev","next","Table","TableHead","TableRow","TableCell","TableBody","price","quantity","container","boldCell","Totals","total_ex_taxes","delivery_fees","tax_rate","taxes","classnames","OrderTitle","CustomerDetails","RouterLink","CustomerAddress","stateAbbr","useEditStyles","m","OrderForm","FormWithRedirect","formProps","Grid","Labeled","mt","BooleanInput","row","ReferenceField","Toolbar","undoable","invalid","saving","list","edit","Edit","OrderIcon","noSelection","BulkAcceptButton","selectedIds","refresh","useRefresh","unselectAll","useUnselectAll","useUpdateMany","CRUD_UPDATE_MANY","onSuccess","onFailure","approve","BulkRejectButton","inline","ReviewListMobile","useListContext","Number","linkToRecord","FunctionField","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","CustomerReferenceField","rowStyle","selectedRow","useTheme","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","useListStyles","headerRow","headerCell","rowCell","ReviewListDesktop","useFilterStyles","ReviewFilter","AcceptButton","redirectTo","useRedirect","useUpdate","RejectButton","ReviewEditToolbar","handleSubmitWithRedirect","SaveButton","redirect","submitOnEnter","DeleteButton","paddingTop","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","IconButton","EditContextProvider","save","version","toolbar","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","transitions","duration","enteringScreen","listWithDrawer","drawerPaper","zIndex","ReviewList","history","useHistory","handleClose","useCallback","push","path","match","isMatch","bulkActionButtons","Drawer","open","anchor","onClose","ReviewIcon","useAsideStyles","useEventStyles","stepper","EventList","useGetList","orderIds","reviewIds","events","mixOrdersAndReviews","mb","mr","smart_count","Stepper","orientation","event","Step","expanded","completed","StepLabel","StepIconComponent","Component","review","weekday","year","month","hour","minute","StepContent","eventsFromOrders","eventsFromReviews","concat","e1","e2","Order","useReviewStyles","clamp","Review","SegmentsInput","addField","rest","SelectArrayInput","VisitorTitle","VisitorForm","lg","ml","VisitorIcon","LinkToRelatedCustomers","pathname","search","Segments","exact","BalanceShow","useShowController","order_reference","activity","change","align","balance","ListFilters","expand","sortable","locales","BalanceIcon","App","Admin","myDataProvider","customReducers","customRoutes","dashboard","loginPage","layout","disableTelemetry","Resource","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ec94979f.chunk.js","sourcesContent":["/* eslint-disable no-undef */\n/* eslint-disable no-param-reassign */\nimport { fetchUtils } from 'react-admin';\nimport { stringify } from 'query-string';\n\nconst apiUrl = 'https://mintpim.com/api/v1';\n// const apiUrl = 'http://localhost:8000/api/v1';\n\nconst httpClient = (url, options = {}) => {\n    if (!options.headers) {\n        options.headers = new Headers();\n    }\n    // [TODO] CHECK! 여기에서 매번 sessionStorage에서 받아와서 넣어가면서 하는게 일반적인건지??\n    const token = sessionStorage.getItem('token');\n    options.headers.set('Authorization', `Bearer ${token}`);\n\n    return fetchUtils.fetchJson(url, options);\n};\n\nexport default {\n    getList: (resource, params) => {\n        let url;\n        if (params) {\n            const { page, perPage } = params.pagination;\n            const { field, order } = params.sort;\n            const query = {\n                sort: JSON.stringify([field, order]),\n                range: JSON.stringify([\n                    (page - 1) * perPage,\n                    page * perPage - 1,\n                ]),\n                filter: JSON.stringify(params.filter),\n            };\n            url = `${apiUrl}/${resource}?${stringify(query)}`;\n        } else {\n            url = `${apiUrl}/${resource}`;\n        }\n\n        return httpClient(url).then(({ json }) => {\n            return {\n                data: json?.data,\n                total: json?.total || 0,\n            };\n        });\n    },\n\n    getOne: (resource, params) => {\n        return httpClient(`${apiUrl}/${resource}/${params.id}`).then(\n            ({ json }) => ({\n                data: json?.data?.[0],\n            }),\n        );\n    },\n\n    getMany: (resource, params) => {\n        // const query = {\n        //     filter: JSON.stringify({ id: params.ids }),\n        // };\n        // const url = `${apiUrl}/${resource}?${stringify(query)}`;\n        const url = `${apiUrl}/${resource}/${params.ids}`;\n        return httpClient(url).then(({ json }) => ({ data: json?.data }));\n    },\n\n    getManyReference: (resource, params) => {\n        const { page, perPage } = params.pagination;\n        const { field, order } = params.sort;\n        const query = {\n            sort: JSON.stringify([field, order]),\n            range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n            filter: JSON.stringify({\n                ...params.filter,\n                [params.target]: params.id,\n            }),\n        };\n        const url = `${apiUrl}/${resource}?${stringify(query)}`;\n\n        return httpClient(url).then(({ headers, json }) => ({\n            data: json,\n            total: parseInt(headers.get('content-range').split('/').pop(), 10),\n        }));\n    },\n\n    update: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method: 'PUT',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json })),\n\n    updateMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids }),\n        };\n        return httpClient(`${apiUrl}/${resource}?${stringify(query)}`, {\n            method: 'PUT',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }));\n    },\n    create: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}`, {\n            method: 'POST',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json })),\n\n    delete: (resource, params) =>\n        httpClient(`${apiUrl}/${resource}/${params.id}`, {\n            method: 'DELETE',\n        }).then(({ json }) => ({ data: json })),\n\n    deleteMany: (resource, params) => {\n        const query = {\n            filter: JSON.stringify({ id: params.ids }),\n        };\n        return httpClient(`${apiUrl}/${resource}?${stringify(query)}`, {\n            method: 'DELETE',\n            body: JSON.stringify(params.data),\n        }).then(({ json }) => ({ data: json }));\n    },\n};\n","import { AuthProvider } from 'react-admin';\nimport dataProvider from './myDataProvider';\n\nasync function loginAPI(email: string, password: string) {\n    const { data: response } = await dataProvider.create('login', {\n        data: {\n            email,\n            password,\n        },\n    });\n\n    return response;\n}\n\nconst authProvider: AuthProvider = {\n    login: async ({ email, password }) => {\n        const response = await loginAPI(email, password);\n        if (response?.success && response?.data?.token) {\n            const { token } = response.data;\n            sessionStorage.setItem('token', token);\n            return Promise.resolve();\n        }\n        return Promise.reject();\n    },\n    logout: () => {\n        sessionStorage.removeItem('token');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        sessionStorage.getItem('token') ? Promise.resolve() : Promise.reject(),\n    // eslint-disable-next-line prefer-promise-reject-errors\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () =>\n        Promise.resolve({\n            id: 'user',\n            fullName: 'Jane Doe',\n            avatar:\n                'data:image/jpeg;base64,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',\n        }),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","const Logo = () => {\n    return (\n        <div\n            style={{\n                color: '#716fdf',\n                fontSize: '2vmax',\n                fontWeight: 'bold',\n            }}\n        >\n            Channel PIN\n        </div>\n    );\n};\n\nexport default Logo;\n","/* eslint-disable react/display-name */\nimport * as React from 'react';\nimport { forwardRef } from 'react';\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from 'react-admin';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles({\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n    },\n    spacer: {\n        flex: 1,\n    },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n    const translate = useTranslate();\n    return (\n        <MenuItemLink\n            ref={ref}\n            to=\"/configuration\"\n            primaryText={translate('pos.configuration')}\n            leftIcon={<SettingsIcon />}\n            onClick={props.onClick}\n            sidebarIsOpen\n        />\n    );\n});\n\nconst CustomUserMenu = (props: any) => (\n    <UserMenu {...props}>\n        <ConfigurationMenu />\n    </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n    const classes = useStyles();\n    return (\n        <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n            <Logo />\n            <span className={classes.spacer} />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import { FC, ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n    List,\n    MenuItem,\n    ListItemIcon,\n    Typography,\n    Collapse,\n    Tooltip,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { useTranslate, ReduxState } from 'react-admin';\n\nconst useStyles = makeStyles((theme) => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            paddingLeft: theme.spacing(4),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            paddingLeft: theme.spacing(2),\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n}\n\nconst SubMenu: FC<Props> = ({\n    handleToggle,\n    isOpen,\n    name,\n    icon,\n    children,\n    dense,\n}) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const sidebarIsOpen = useSelector<ReduxState, boolean>(\n        (state) => state.admin.ui.sidebarOpen,\n    );\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </>\n    );\n};\n\nexport default SubMenu;\n","import { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useTranslate,\n    DashboardMenuItem,\n    MenuItemLink,\n    MenuProps,\n} from 'react-admin';\nimport BalanceIcon from '@material-ui/icons/AttachMoney';\nimport OrdersIcon from '@material-ui/icons/ShoppingCart';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu = ({ dense = false }: MenuProps) => {\n    const translate = useTranslate();\n    useSelector((state: AppState) => state.theme);\n    const classes = useStyles();\n\n    const [state, setState] = useState({\n        menuCatalog: true,\n        menuSales: true,\n        menuCustomers: true,\n    });\n    const handleToggle = (menu: MenuName) => {\n        setState((state) => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div className={classes.root}>\n            <DashboardMenuItem />\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                name={translate('Balance')}\n                icon={<BalanceIcon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to=\"/balance\"\n                    primaryText={translate('Balance')}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to=\"/request\"\n                    primaryText={translate('Request')}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to=\"/orders\"\n                primaryText={translate('Orders')}\n                leftIcon={<OrdersIcon />}\n                dense={dense}\n            />\n        </div>\n    );\n};\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginTop: theme.spacing(1),\n    },\n}));\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#FBBA72',\n        },\n        type: 'dark' as const, // Switching the dark mode on is a single property value change.\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#ffffffb3',\n                backgroundColor: '#616161e6',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n        type: 'light' as const,\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiSnackbarContent: {\n            root: {\n                border: 'none',\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","/* eslint-disable react/display-name */\nimport { useSelector } from 'react-redux';\nimport { Layout, LayoutProps, Sidebar } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nconst CustomSidebar = (props: any) => <Sidebar {...props} size={200} />;\n\nexport default (props: LayoutProps) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme,\n    );\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            sidebar={CustomSidebar}\n            menu={Menu}\n            theme={theme}\n        />\n    );\n};\n","/* eslint-disable react/no-unused-prop-types */\n/* eslint-disable react/require-default-props */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable no-nested-ternary */\nimport * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport {\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CircularProgress,\n    TextField,\n} from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\nimport { ValidateEmail } from '../Utils';\n\nconst useStyles = makeStyles((theme) => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    email?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning',\n                    {\n                        _:\n                            typeof error === 'string'\n                                ? error\n                                : error && error.message\n                                ? error.message\n                                : undefined,\n                    },\n                );\n            },\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        const { email, password } = values;\n        if (!email || !ValidateEmail(email)) {\n            errors.email = translate('ra.validation.required');\n        }\n        if (!password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"email\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label=\"Email Address\"\n                                        disabled={loading}\n                                        // temp value for local test\n                                        initialValue=\"yun@mxncommerce.com\"\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                        // temp value for local test\n                                        initialValue=\"password\"\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\n// TODO: clear eslint issues\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","export function ValidateEmail(input: string) {\n    const validRegex = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n\n    if (validRegex.test(input)) {\n        return true;\n    }\n    return false;\n}\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport CodeIcon from '@material-ui/icons/Code';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        Channel PIN\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            Welcome!\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/react-admin\"\n                            startIcon={<HomeIcon />}\n                        >\n                            WHAT IS PIN?\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/react-admin/tree/master/examples/demo\"\n                            startIcon={<CodeIcon />}\n                        >\n                            DETAILS\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        display: 'flex',\n        flexDirection: 'column',\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: (props: Props) => ({\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    }),\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ' '}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => (\n    <CardWithIcon\n        to=\"/commands\"\n        icon={DollarIcon}\n        title=\"Monthly Revenue\"\n        subtitle={value}\n    />\n);\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => (\n    <CardWithIcon\n        to=\"/commands\"\n        icon={ShoppingCartIcon}\n        title=\"New Orders\"\n        subtitle={value}\n    />\n);\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title=\"Pending Orders\" />\n            <List dense>\n                {orders.map((record) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB',\n                            )}\n                            secondary=\"Order Items\"\n                            // secondary={translate('pos.dashboard.order.items', {\n                            //     smart_count: record.basket.length,\n                            //     nb_items: record.basket.length,\n                            //     customer_name: customers[record.customer_id]\n                            //         ? `${\n                            //               customers[record.customer_id]\n                            //                   .first_name\n                            //           } ${\n                            //               customers[record.customer_id]\n                            //                   .last_name\n                            //           }`\n                            //         : '',\n                            // })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        // eslint-disable-next-line react/no-array-index-key\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title=\"Pending Reviews\"\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/reviews\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    All Reviews\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles((theme) => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\nimport { subDays } from 'date-fns';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const aMonthAgo = subDays(new Date(), 30);\n    aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n    aMonthAgo.setHours(0);\n    aMonthAgo.setMinutes(0);\n    aMonthAgo.setSeconds(0);\n    aMonthAgo.setMilliseconds(0);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    // const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    const nb = visitors ? visitors.reduce((nb: number) => nb + 1, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/customers\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_customers')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles((theme) => ({\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default NewCustomers;\n","import { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\n\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map((date) => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title=\"Month History\" />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={(value: any) =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any) =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, { FC, CSSProperties } from 'react';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard: FC = () => {\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs'),\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md'),\n    );\n\n    // eslint-disable-next-line no-nested-ternary\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value=\"\" />\n                <VerticalSpacer />\n                <NbNewOrders value={778} />\n                <VerticalSpacer />\n                <PendingOrders orders={[]} customers={undefined} />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value=\"\" />\n                <Spacer />\n                <NbNewOrders value={778} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={undefined} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders orders={undefined} customers={undefined} />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value=\"\" />\n                        <Spacer />\n                        <NbNewOrders value={579} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={undefined} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={undefined}\n                            customers={undefined}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={678}\n                            reviews={undefined}\n                            customers={undefined}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map((segmentId) => {\n                    const segment = segments.find((s) => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectInput, InputProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { FC, memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","/* eslint-disable react/destructuring-assignment */\nimport { FC } from 'react';\nimport { Link, FieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = (props) =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","/* eslint-disable no-nested-ternary */\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps) =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    useTranslate,\n    NumberField,\n    Identifier,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ReactElement } from 'react';\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst useStyles = makeStyles((theme) => ({\n    nb_commands: { color: 'purple' },\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst VisitorList = (props: ListProps): ReactElement => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>((theme) =>\n        theme.breakpoints.down('xs'),\n    );\n    const isSmall = useMediaQuery<Theme>((theme) =>\n        theme.breakpoints.down('sm'),\n    );\n    return (\n        <List\n            {...props}\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField\n                        cellClassName={classes.hiddenOnSmallScreens}\n                        headerClassName={classes.hiddenOnSmallScreens}\n                    />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { FC } from 'react';\nimport {\n    Create,\n    CreateProps,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { AnyObject } from 'react-final-form';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirmPassword: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({ password, confirmPassword }: AnyObject) => {\n    const errors = {} as any;\n\n    if (password && confirmPassword && password !== confirmPassword) {\n        errors.confirmPassword = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate: FC<CreateProps> = (props) => {\n    const classes = useStyles(props);\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirmPassword\"\n                    formClassName={classes.confirmPassword}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import { FC } from 'react';\nimport {\n    AutocompleteInput,\n    Datagrid,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { Customer } from '../types';\n\nconst OrderFilter: FC<Omit<FilterProps, 'children'>> = (props) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer) =>\n                    choice.id ? `${choice.first_name} ${choice.last_name}` : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst OrderList: FC<ListProps> = (props) => {\n    return (\n        <List\n            {...props}\n            filterDefaultValues={{ status: 'ordered' }}\n            sort={{ field: 'updated_at', order: 'DESC' }}\n            perPage={25}\n            filters={<OrderFilter />}\n        >\n            <Datagrid>\n                <TextField source=\"id\" />\n                <TextField source=\"name\" label=\"Title\" />\n                <DateField source=\"created_at\" />\n                <DateField source=\"updated_at\" />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default OrderList;\n","/* eslint-disable no-param-reassign */\nimport { FC } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, useQueryWithStore } from 'react-admin';\n\nimport { AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    rightAlignedCell: { textAlign: 'right' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore<AppState>(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map((item) => item.product_id) : [],\n            },\n        },\n        {},\n        (state) => {\n            const productIds = record\n                ? record.basket.map((item) => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    (productId) =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product,\n                )\n                .filter((r) => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        },\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate(\n                            'resources.commands.fields.basket.reference',\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate(\n                            'resources.commands.fields.basket.unit_price',\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.quantity')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map(\n                    (item: any) =>\n                        products[item.product_id] && (\n                            <TableRow key={item.product_id}>\n                                <TableCell>\n                                    <Link to={`/products/${item.product_id}`}>\n                                        {products[item.product_id].reference}\n                                    </Link>\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {products[\n                                        item.product_id\n                                    ].price.toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {item.quantity}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {(\n                                        products[item.product_id].price *\n                                        item.quantity\n                                    ).toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                            </TableRow>\n                        ),\n                )}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","/* eslint-disable react/require-default-props */\nimport { FC } from 'react';\nimport classnames from 'classnames';\nimport { Table, TableBody, TableCell, TableRow } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Totals: FC<FieldProps<Order>> = ({ record }: { record?: Order }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <Table className={classes.container}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.sum')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell className={classes.boldCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                    <TableCell\n                        className={classnames(\n                            classes.boldCell,\n                            classes.rightAlignedCell,\n                        )}\n                    >\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable react/require-default-props */\nimport * as React from 'react';\nimport { FC } from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    EditProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Order, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle: FC<OrderTitleProps> = ({ record }) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst CustomerDetails = ({ record }: { record?: Customer }) => (\n    <Box display=\"flex\" flexDirection=\"column\">\n        <Typography\n            component={RouterLink}\n            color=\"primary\"\n            to={`/customers/${record?.id}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography\n            component={Link}\n            color=\"primary\"\n            href={`mailto:${record?.email}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.email}\n        </Typography>\n    </Box>\n);\n\nconst CustomerAddress = ({ record }: { record?: Customer }) => (\n    <Box>\n        <Typography>\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography>{record?.address}</Typography>\n        <Typography>\n            {record?.city}, {record?.stateAbbr} {record?.zipcode}\n        </Typography>\n    </Box>\n);\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\nconst OrderForm = (props: any) => {\n    const translate = useTranslate();\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps: any) => (\n                <Box maxWidth=\"50em\">\n                    <Card>\n                        <CardContent>\n                            <Grid container spacing={1}>\n                                <Grid item xs={12} sm={12} md={8}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.order',\n                                        )}\n                                    </Typography>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"date\"\n                                                resource=\"commands\"\n                                            >\n                                                <DateField\n                                                    source=\"date\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"reference\"\n                                                resource=\"commands\"\n                                            >\n                                                <TextField\n                                                    source=\"reference\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <SelectInput\n                                                resource=\"commands\"\n                                                source=\"status\"\n                                                choices={[\n                                                    {\n                                                        id: 'delivered',\n                                                        name: 'delivered',\n                                                    },\n                                                    {\n                                                        id: 'ordered',\n                                                        name: 'ordered',\n                                                    },\n                                                    {\n                                                        id: 'cancelled',\n                                                        name: 'cancelled',\n                                                    },\n                                                    {\n                                                        id: 'unknown',\n                                                        name: 'unknown',\n                                                        disabled: true,\n                                                    },\n                                                ]}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Box mt={2}>\n                                                <BooleanInput\n                                                    row\n                                                    resource=\"commands\"\n                                                    source=\"returned\"\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.customer',\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerDetails />\n                                    </ReferenceField>\n                                    <Spacer />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.shipping_address',\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerAddress />\n                                    </ReferenceField>\n                                </Grid>\n                            </Grid>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.items')}\n                            </Typography>\n                            <Box>\n                                <Basket record={formProps.record} />\n                            </Box>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.total')}\n                            </Typography>\n                            <Box>\n                                <Totals record={formProps.record} />\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"commands\"\n                        />\n                    </Card>\n                </Box>\n            )}\n        />\n    );\n};\nconst OrderEdit: FC<EditProps> = (props) => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            classes={classes}\n            {...props}\n            component=\"div\"\n        >\n            <OrderForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton: FC<BulkActionProps> = ({\n    selectedIds = noSelection,\n}) => {\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","/* eslint-disable react/default-props-match-prop-types */\n/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/no-unused-prop-types */\n/* eslint-disable react/require-default-props */\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Review, Customer } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile = () => {\n    const classes = useStyles();\n    const { basePath, data, ids, loaded, total } = useListContext<Review>();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map((id) => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record?: Record) =>\n                                                    record\n                                                        ? `${\n                                                              (record as Customer)\n                                                                  .first_name\n                                                          } ${\n                                                              (record as Customer)\n                                                                  .last_name\n                                                          }`\n                                                        : ''\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField: FC<\n    Props & Omit<Omit<ReferenceFieldProps, 'source'>, 'reference' | 'children'>\n> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<\n    Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Identifier } from 'react-admin';\n\nimport { Review } from '../types';\n\nconst rowStyle = (selectedRow?: Identifier) => (record: Review) => {\n    const theme = useTheme();\n    let style = {};\n    if (!record) {\n        return style;\n    }\n    if (selectedRow && selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { FC } from 'react';\nimport {\n    Identifier,\n    Datagrid,\n    DateField,\n    TextField,\n    DatagridProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'transparent',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop: FC<ReviewListDesktopProps> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            // @ts-ignore\n            rowStyle={rowStyle(selectedRow)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    Filter,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    FilterProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Customer } from '../types';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Omit<FilterProps, 'children'>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'Accepted' },\n                    { id: 'pending', name: 'Pending' },\n                    { id: 'rejected', name: 'Rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice?: Customer) =>\n                        choice?.id // the empty choice is { id: '' }\n                            ? `${choice.first_name} ${choice.last_name}`\n                            : ''\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","/* eslint-disable react/require-default-props */\n/* eslint-disable react/forbid-prop-types */\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true,\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning',\n                );\n            },\n        },\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","/* eslint-disable react/require-default-props */\n/* eslint-disable react/forbid-prop-types */\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from '../types';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Review }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true,\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning',\n                );\n            },\n        },\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import { Fragment, FC } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps<Review>> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </>\n            ) : (\n                <>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    useEditController,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit: FC<Props> = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController<Review>(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <EditContextProvider value={controllerProps}>\n                <SimpleForm\n                    className={classes.form}\n                    basePath={controllerProps.basePath}\n                    record={controllerProps.record}\n                    save={controllerProps.save}\n                    version={controllerProps.version}\n                    redirect=\"list\"\n                    resource=\"reviews\"\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <CustomerReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <ProductReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <DateField\n                        source=\"date\"\n                        formClassName={classes.inlineField}\n                    />\n                    <StarRatingField formClassName={classes.inlineField} />\n                    <TextInput\n                        source=\"comment\"\n                        rowsMax={15}\n                        multiline\n                        fullWidth\n                    />\n                </SimpleForm>\n            </EditContextProvider>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import { useCallback, FC } from 'react';\nimport classnames from 'classnames';\nimport {\n    BulkDeleteButton,\n    List,\n    ListProps,\n    BulkActionProps,\n} from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = (props: BulkActionProps) => (\n    <>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </>\n);\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = (props) => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>((theme) =>\n        theme.breakpoints.down('xs'),\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10,\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        resource={props.resource}\n                                        basePath={props.basePath}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","/* eslint-disable react/no-unescaped-entities */\n/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/require-default-props */\nimport { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    Record,\n    RecordMap,\n    Identifier,\n    ReferenceField,\n    useLocale,\n} from 'react-admin';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Box,\n    Link,\n    Stepper,\n    Step,\n    StepLabel,\n    StepContent,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport order from '../orders';\nimport review from '../reviews';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles((theme) => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside: FC<AsideProps> = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst useEventStyles = makeStyles({\n    stepper: {\n        background: 'none',\n        border: 'none',\n        marginLeft: '0.3em',\n    },\n});\n\nconst EventList: FC<EventListProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    const locale = useLocale();\n    const { data: orders, ids: orderIds } = useGetList<OrderRecord>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id },\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<ReviewRecord>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id },\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history',\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen',\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds && orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    },\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen',\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds && reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    },\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n            <Stepper orientation=\"vertical\" classes={{ root: classes.stepper }}>\n                {events.map((event) => (\n                    <Step\n                        key={`${event.type}-${event.data.id}`}\n                        expanded\n                        active\n                        completed\n                    >\n                        <StepLabel\n                            StepIconComponent={() => {\n                                const Component =\n                                    event.type === 'order'\n                                        ? order.icon\n                                        : review.icon;\n                                return (\n                                    <Component\n                                        fontSize=\"small\"\n                                        color=\"disabled\"\n                                        style={{ paddingLeft: 3 }}\n                                    />\n                                );\n                            }}\n                        >\n                            {new Date(event.date).toLocaleString(locale, {\n                                weekday: 'long',\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric',\n                                hour: 'numeric',\n                                minute: 'numeric',\n                            })}\n                        </StepLabel>\n                        <StepContent>\n                            {event.type === 'order' ? (\n                                <Order\n                                    record={event.data as OrderRecord}\n                                    key={`event_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            ) : (\n                                <Review\n                                    record={event.data as ReviewRecord}\n                                    key={`review_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            )}\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders?: RecordMap<OrderRecord>,\n    orderIds?: Identifier[],\n    reviews?: RecordMap<ReviewRecord>,\n    reviewIds?: Identifier[],\n): AsideEvent[] => {\n    const eventsFromOrders =\n        orderIds && orders\n            ? orderIds.map<AsideEvent>((id) => ({\n                  type: 'order',\n                  date: orders[id].date,\n                  data: orders[id],\n              }))\n            : [];\n    const eventsFromReviews =\n        reviewIds && reviews\n            ? reviewIds.map<AsideEvent>((id) => ({\n                  type: 'review',\n                  date: reviews[id].date,\n                  data: reviews[id],\n              }))\n            : [];\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e2.date).getTime() - new Date(e1.date).getTime(),\n    );\n    return events;\n};\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order: FC<OrderProps> = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/commands/${record.id}`} component={RouterLink}>\n                    {translate('resources.commands.name', {\n                        smart_count: 1,\n                    })}{' '}\n                    #{record.reference}\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n                {translate('resources.commands.nb_items', {\n                    smart_count: record.basket.length,\n                    _: '1 item |||| %{smart_count} items',\n                })}\n                &nbsp;-&nbsp;\n                <NumberField\n                    source=\"total\"\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    record={record}\n                    basePath={basePath}\n                />\n                &nbsp;-&nbsp;\n                <TextField\n                    source=\"status\"\n                    record={record}\n                    basePath={basePath}\n                />\n            </Typography>\n        </>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst useReviewStyles = makeStyles({\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Review: FC<ReviewProps> = ({ record, basePath }) => {\n    const classes = useReviewStyles();\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/reviews/${record.id}`} component={RouterLink}>\n                    {translate('resources.reviews.relative_to_poster')} \"\n                    <ReferenceField\n                        source=\"product_id\"\n                        reference=\"products\"\n                        resource=\"reviews\"\n                        record={record}\n                        basePath={basePath}\n                        link={false}\n                    >\n                        <TextField source=\"reference\" component=\"span\" />\n                    </ReferenceField>\n                    \"\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                <StarRatingField record={record} />\n            </Typography>\n            <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.clamp}\n            >\n                {record.comment}\n            </Typography>\n        </>\n    ) : null;\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate, SelectArrayInput, InputProps } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            source=\"groups\"\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n    FieldProps,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer } from '../types';\n\nconst VisitorEdit: FC<EditProps> = (props) => (\n    <Edit title={<VisitorTitle />} aside={<Aside />} component=\"div\" {...props}>\n        <VisitorForm />\n    </Edit>\n);\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity',\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address',\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={2}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"stateAbbr\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box flex={2}>\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password',\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats',\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n\nexport default resource;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: string }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title\n                title={translate('resources.segments.name', { smart_count: 2 })}\n            />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","/* eslint-disable react/jsx-key */\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useShowController, ReferenceField } from 'react-admin';\nimport Basket from '../orders/OrderList';\nimport { Balance } from '../types';\n\nconst BalanceShow = (props: any) => {\n    const { record } = useShowController<Balance>(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {`Order Line Number: ${record.order_reference}`}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                            {`Activities: ${record.activity} / Amount: $${record.change}`}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography\n                            variant=\"subtitle1\"\n                            gutterBottom\n                            align=\"right\"\n                        >\n                            View Order Detail\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <div className={classes.balance}>\n                    <ReferenceField\n                        resource=\"balance\"\n                        reference=\"orders\"\n                        source=\"id\"\n                        basePath=\"/balance\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default BalanceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    balance: { margin: '10px 0' },\n});\n","import {\n    List,\n    ListProps,\n    Datagrid,\n    TextField,\n    NumberField,\n    Filter,\n    FilterProps,\n    DateInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BalanceShow from './BalanceShow';\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst useStyles = makeStyles((theme) => ({\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst BalanceList = (props: ListProps) => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            filters={<ListFilters />}\n            perPage={25}\n            sort={{ field: 'created_at', order: 'desc' }}\n            bulkActionButtons={false}\n        >\n            <Datagrid rowClick=\"expand\" expand={<BalanceShow />}>\n                <TextField source=\"id\" label=\"ID\" />\n                <TextField\n                    source=\"activity\"\n                    label=\"Activities\"\n                    sortable={false}\n                />\n                <NumberField\n                    source=\"change\"\n                    locales={['en']}\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    label=\"Amount\"\n                />\n                <NumberField\n                    source=\"current\"\n                    locales={['en']}\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    label=\"Balance\"\n                />\n                <TextField\n                    source=\"order_reference\"\n                    label=\"Order\"\n                    headerClassName={classes.hiddenOnSmallScreens}\n                    cellClassName={classes.hiddenOnSmallScreens}\n                />\n                <TextField\n                    source=\"order_line\"\n                    label=\"Order Line\"\n                    sortable={false}\n                />\n                <TextField source=\"created_at\" />\n                <TextField\n                    source=\"note\"\n                    sortable={false}\n                    headerClassName={classes.hiddenOnSmallScreens}\n                    cellClassName={classes.hiddenOnSmallScreens}\n                />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default BalanceList;\n","import BalanceIcon from '@material-ui/icons/LibraryBooks';\nimport BalanceList from './BalanceList';\n\nexport default {\n    list: BalanceList,\n    icon: BalanceIcon,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport { Admin, Resource } from 'react-admin';\n\nimport myDataProvider from './myDataProvider';\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\n\nimport balance from './balance';\nimport orders from './orders';\n\nconst App = () => (\n    <Admin\n        title=\"\"\n        dataProvider={myDataProvider}\n        customReducers={{ theme: themeReducer }}\n        customRoutes={customRoutes}\n        authProvider={authProvider}\n        dashboard={Dashboard}\n        loginPage={Login}\n        layout={Layout}\n        disableTelemetry\n    >\n        <Resource {...balance} name=\"balance\" options={{ label: 'Balance' }} />\n        <Resource {...orders} name=\"orders\" options={{ label: 'Orders' }} />\n    </Admin>\n);\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}